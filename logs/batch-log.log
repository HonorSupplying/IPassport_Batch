2025-03-02T14:43:18.531+07:00  INFO 3596 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 3596 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T14:43:18.547+07:00  INFO 3596 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T14:43:19.150+07:00  INFO 3596 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T14:43:19.150+07:00  INFO 3596 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 21 ms.
2025-03-02T14:43:19.370+07:00  INFO 3596 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T14:43:19.402+07:00  INFO 3596 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2025-03-02T14:43:20.022+07:00  INFO 3596 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T14:43:20.576+07:00  INFO 3596 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: ecb80b83-a23b-496c-9f1c-7176a73776f9
2025-03-02T14:43:20.576+07:00  INFO 3596 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T14:43:20.672+07:00  INFO 3596 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T14:43:20.800+07:00  INFO 3596 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T14:43:20.863+07:00  INFO 3596 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T14:43:21.275+07:00  INFO 3596 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T14:43:21.392+07:00  INFO 3596 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T14:43:21.700+07:00  INFO 3596 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T14:43:21.700+07:00  INFO 3596 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T14:43:21.783+07:00  INFO 3596 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T14:43:21.843+07:00  INFO 3596 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T14:43:21.858+07:00  WARN 3596 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setClearPassportIdJob' parameter 0: Error creating bean with name 'clearTablesJob' defined in class path resource [com/krungsri/ipassportbatch/job/ClearPassportIdJob.class]: Unsatisfied dependency expressed through method 'clearTablesJob' parameter 1: Error creating bean with name 'clearPassportIdStep' defined in class path resource [com/krungsri/ipassportbatch/job/ClearPassportIdJob.class]: Unsatisfied dependency expressed through method 'clearPassportIdStep' parameter 2: No qualifying bean of type 'com.krungsri.ipassportbatch.tasklet.ClearPassportIdTasklet' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-03-02T14:43:21.858+07:00  INFO 3596 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T14:43:21.865+07:00  INFO 3596 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T14:43:21.875+07:00  INFO 3596 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T14:43:21.887+07:00  INFO 3596 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-02T14:43:21.921+07:00 ERROR 3596 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of method clearPassportIdStep in com.krungsri.ipassportbatch.job.ClearCustomerDataJob required a bean of type 'com.krungsri.ipassportbatch.tasklet.ClearPassportIdTasklet' that could not be found.


Action:

Consider defining a bean of type 'com.krungsri.ipassportbatch.tasklet.ClearPassportIdTasklet' in your configuration.

2025-03-02T14:44:48.828+07:00  INFO 31064 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 31064 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T14:44:48.828+07:00  INFO 31064 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T14:44:49.460+07:00  INFO 31064 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T14:44:49.462+07:00  INFO 31064 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 14 ms.
2025-03-02T14:44:49.466+07:00  WARN 31064 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'clearPassportIdJob' defined in class path resource [com/krungsri/ipassportbatch/job/ClearPassportIdJob.class]: Cannot register bean definition [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=clearPassportIdJob; factoryMethodName=clearPassportIdJob; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/krungsri/ipassportbatch/job/ClearPassportIdJob.class]] for bean 'clearPassportIdJob' since there is already [Generic bean: class=com.krungsri.ipassportbatch.job.ClearCustomerDataJob; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null; defined in file [D:\Krungsri\ipassport-batch\target\classes\com\krungsri\ipassportbatch\job\ClearPassportIdJob.class]] bound.
2025-03-02T14:44:49.481+07:00  INFO 31064 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-02T14:44:49.519+07:00 ERROR 31064 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'clearPassportIdJob', defined in class path resource [com/krungsri/ipassportbatch/job/ClearPassportIdJob.class], could not be registered. A bean with that name has already been defined in file [D:\Krungsri\ipassport-batch\target\classes\com\krungsri\ipassportbatch\job\ClearPassportIdJob.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2025-03-02T14:45:48.132+07:00  INFO 3856 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplicationTests     : Starting IpassportbatchApplicationTests using Java 21.0.5 with PID 3856 (started by User in D:\Krungsri\ipassport-batch)
2025-03-02T14:45:48.143+07:00  INFO 3856 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplicationTests     : No active profile set, falling back to 1 default profile: "default"
2025-03-02T14:45:48.489+07:00  INFO 3856 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T14:45:48.489+07:00  INFO 3856 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 7 ms.
2025-03-02T14:45:48.495+07:00  WARN 3856 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'clearPassportIdJob' defined in class path resource [com/krungsri/ipassportbatch/job/ClearPassportIdJob.class]: Cannot register bean definition [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=clearPassportIdJob; factoryMethodName=clearPassportIdJob; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/krungsri/ipassportbatch/job/ClearPassportIdJob.class]] for bean 'clearPassportIdJob' since there is already [Generic bean: class=com.krungsri.ipassportbatch.job.ClearCustomerDataJob; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null; defined in file [D:\Krungsri\ipassport-batch\target\classes\com\krungsri\ipassportbatch\job\ClearPassportIdJob.class]] bound.
2025-03-02T14:45:48.521+07:00  INFO 3856 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-02T14:45:48.541+07:00 ERROR 3856 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'clearPassportIdJob', defined in class path resource [com/krungsri/ipassportbatch/job/ClearPassportIdJob.class], could not be registered. A bean with that name has already been defined in file [D:\Krungsri\ipassport-batch\target\classes\com\krungsri\ipassportbatch\job\ClearPassportIdJob.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2025-03-02T14:45:48.541+07:00  WARN 3856 --- [ipassportbatch] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.krungsri.ipassportbatch.IpassportbatchApplicationTests@21ac5eb4]

java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@2d9f64c9 testClass = com.krungsri.ipassportbatch.IpassportbatchApplicationTests, locations = [], classes = [com.krungsri.ipassportbatch.IpassportbatchApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@46d59067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5dafbe45, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@49c90a9c, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@29f7cefd, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@64b0598, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@20c51c0a], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:155) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:111) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.3.jar:6.2.3]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) ~[surefire-junit-platform-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) ~[surefire-junit-platform-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) ~[surefire-junit-platform-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.2.jar:3.5.2]
Caused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'clearPassportIdJob' defined in class path resource [com/krungsri/ipassportbatch/job/ClearPassportIdJob.class]: Cannot register bean definition [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=clearPassportIdJob; factoryMethodName=clearPassportIdJob; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/krungsri/ipassportbatch/job/ClearPassportIdJob.class]] for bean 'clearPassportIdJob' since there is already [Generic bean: class=com.krungsri.ipassportbatch.job.ClearCustomerDataJob; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null; defined in file [D:\Krungsri\ipassport-batch\target\classes\com\krungsri\ipassportbatch\job\ClearPassportIdJob.class]] bound.
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.registerBeanDefinition(DefaultListableBeanFactory.java:1184) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:292) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:145) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:121) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:430) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.3.jar:3.4.3]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.3.jar:6.2.3]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.3.jar:6.2.3]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.3.jar:3.4.3]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.3.jar:3.4.3]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.3.jar:3.4.3]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.3.jar:6.2.3]
	... 75 common frames omitted

2025-03-02T14:48:11.810+07:00  INFO 3344 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 3344 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T14:48:11.810+07:00  INFO 3344 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T14:48:12.281+07:00  INFO 3344 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T14:48:12.281+07:00  INFO 3344 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 10 ms.
2025-03-02T14:48:12.476+07:00  INFO 3344 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T14:48:12.508+07:00  INFO 3344 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 JPA repository interfaces.
2025-03-02T14:48:13.081+07:00  INFO 3344 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T14:48:13.547+07:00  INFO 3344 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 6de4b01b-eaac-40e6-b2b1-781305b4c376
2025-03-02T14:48:13.549+07:00  INFO 3344 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T14:48:13.642+07:00  INFO 3344 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T14:48:13.705+07:00  INFO 3344 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T14:48:13.758+07:00  INFO 3344 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T14:48:14.102+07:00  INFO 3344 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T14:48:14.235+07:00  INFO 3344 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T14:48:14.519+07:00  INFO 3344 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T14:48:14.528+07:00  INFO 3344 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T14:48:14.582+07:00  INFO 3344 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T14:48:14.629+07:00  INFO 3344 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T14:48:14.645+07:00  WARN 3344 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setClearPassportIdJob' parameter 0: Error creating bean with name 'clearPassportId' defined in class path resource [com/krungsri/ipassportbatch/job/ClearPassportIdJob.class]: Unsatisfied dependency expressed through method 'clearPassportId' parameter 1: Error creating bean with name 'clearPassportIdStep' defined in class path resource [com/krungsri/ipassportbatch/job/ClearPassportIdJob.class]: Unsatisfied dependency expressed through method 'clearPassportIdStep' parameter 2: No qualifying bean of type 'com.krungsri.ipassportbatch.tasklet.ClearPassportIdTasklet' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-03-02T14:48:14.647+07:00  INFO 3344 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T14:48:14.651+07:00  INFO 3344 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T14:48:14.658+07:00  INFO 3344 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T14:48:14.671+07:00  INFO 3344 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-02T14:48:14.708+07:00 ERROR 3344 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of method clearPassportIdStep in com.krungsri.ipassportbatch.job.ClearCustomerDataJob required a bean of type 'com.krungsri.ipassportbatch.tasklet.ClearPassportIdTasklet' that could not be found.


Action:

Consider defining a bean of type 'com.krungsri.ipassportbatch.tasklet.ClearPassportIdTasklet' in your configuration.

2025-03-02T14:49:04.809+07:00  INFO 29872 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 29872 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T14:49:04.809+07:00  INFO 29872 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T14:49:05.344+07:00  INFO 29872 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T14:49:05.344+07:00  INFO 29872 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 12 ms.
2025-03-02T14:49:05.555+07:00  INFO 29872 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T14:49:05.601+07:00  INFO 29872 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 JPA repository interfaces.
2025-03-02T14:49:06.177+07:00  INFO 29872 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T14:49:06.661+07:00  INFO 29872 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 7df65dc6-d387-42cc-ae7f-d6d0c55e4f99
2025-03-02T14:49:06.669+07:00  INFO 29872 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T14:49:06.775+07:00  INFO 29872 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T14:49:06.880+07:00  INFO 29872 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T14:49:06.938+07:00  INFO 29872 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T14:49:07.266+07:00  INFO 29872 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T14:49:07.421+07:00  INFO 29872 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T14:49:07.720+07:00  INFO 29872 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T14:49:07.724+07:00  INFO 29872 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T14:49:07.787+07:00  INFO 29872 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T14:49:07.866+07:00  INFO 29872 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T14:49:07.950+07:00  INFO 29872 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T14:49:07.961+07:00  INFO 29872 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T14:49:08.222+07:00  INFO 29872 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 4.2 seconds (process running for 4.743)
2025-03-02T14:52:31.569+07:00  INFO 29872 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T14:52:31.586+07:00  INFO 29872 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T14:52:31.594+07:00  INFO 29872 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T14:52:35.369+07:00  INFO 1708 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 1708 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T14:52:35.369+07:00  INFO 1708 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T14:52:35.953+07:00  INFO 1708 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T14:52:35.953+07:00  INFO 1708 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 18 ms.
2025-03-02T14:52:36.159+07:00  INFO 1708 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T14:52:36.194+07:00  INFO 1708 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 0 JPA repository interfaces.
2025-03-02T14:52:36.728+07:00  INFO 1708 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T14:52:37.219+07:00  INFO 1708 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 9ffa6ff2-f43a-4358-b4fe-f8a406b50d07
2025-03-02T14:52:37.219+07:00  INFO 1708 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T14:52:37.314+07:00  INFO 1708 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T14:52:37.419+07:00  INFO 1708 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T14:52:37.499+07:00  INFO 1708 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T14:52:37.887+07:00  INFO 1708 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T14:52:38.013+07:00  INFO 1708 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T14:52:38.299+07:00  INFO 1708 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T14:52:38.315+07:00  INFO 1708 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T14:52:38.380+07:00  INFO 1708 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T14:52:38.436+07:00  INFO 1708 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T14:52:38.479+07:00  INFO 1708 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T14:52:38.494+07:00  INFO 1708 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T14:52:38.775+07:00  INFO 1708 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 4.216 seconds (process running for 4.764)
2025-03-02T14:54:00.138+07:00 ERROR 1708 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.jdbc.UncategorizedSQLException: PreparedStatementCallback; uncategorized SQLException for SQL [SELECT JOB_INSTANCE_ID, JOB_NAME
FROM BATCH_JOB_INSTANCE
WHERE JOB_NAME = ?
 and JOB_KEY = ?]; SQL state [S0002]; error code [208]; Invalid object name 'BATCH_JOB_INSTANCE'.
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.getJobInstance(JdbcJobInstanceDao.java:183) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:299) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy79.getLastJobExecution(Unknown Source) ~[na:na]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleUpdateTransaction(BatchScheduler.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'BATCH_JOB_INSTANCE'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:675) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:594) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:509) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	... 33 common frames omitted

2025-03-02T14:54:34.759+07:00  INFO 1708 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T14:54:34.763+07:00  INFO 1708 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T14:54:34.773+07:00  INFO 1708 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T14:59:22.256+07:00  INFO 27180 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 27180 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T14:59:22.256+07:00  INFO 27180 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T14:59:23.035+07:00  INFO 27180 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T14:59:23.039+07:00  INFO 27180 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 37 ms.
2025-03-02T14:59:23.272+07:00  INFO 27180 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T14:59:23.288+07:00  INFO 27180 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2025-03-02T14:59:23.893+07:00  INFO 27180 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T14:59:24.413+07:00  INFO 27180 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 97214b07-a54f-4608-84aa-a58eb89d3880
2025-03-02T14:59:24.413+07:00  INFO 27180 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T14:59:24.564+07:00  INFO 27180 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T14:59:24.645+07:00  INFO 27180 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T14:59:24.695+07:00  INFO 27180 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T14:59:25.052+07:00  INFO 27180 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T14:59:25.214+07:00  INFO 27180 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T14:59:25.562+07:00  INFO 27180 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T14:59:25.576+07:00  INFO 27180 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T14:59:25.640+07:00  INFO 27180 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T14:59:25.725+07:00  INFO 27180 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T14:59:25.807+07:00  INFO 27180 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T14:59:25.829+07:00  INFO 27180 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T14:59:26.156+07:00  INFO 27180 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 4.715 seconds (process running for 5.291)
2025-03-02T15:00:00.138+07:00 ERROR 27180 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.jdbc.UncategorizedSQLException: PreparedStatementCallback; uncategorized SQLException for SQL [SELECT JOB_INSTANCE_ID, JOB_NAME
FROM BATCH_JOB_INSTANCE
WHERE JOB_NAME = ?
 and JOB_KEY = ?]; SQL state [S0002]; error code [208]; Invalid object name 'BATCH_JOB_INSTANCE'.
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.getJobInstance(JdbcJobInstanceDao.java:183) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:299) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy79.getLastJobExecution(Unknown Source) ~[na:na]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleUpdateTransaction(BatchScheduler.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'BATCH_JOB_INSTANCE'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:675) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:594) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:509) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	... 33 common frames omitted

2025-03-02T15:00:27.337+07:00  INFO 27180 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:00:27.337+07:00  INFO 27180 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T15:00:27.337+07:00  INFO 27180 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T15:03:16.647+07:00  INFO 25536 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 25536 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T15:03:16.647+07:00  INFO 25536 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T15:03:17.254+07:00  INFO 25536 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T15:03:17.254+07:00  INFO 25536 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 19 ms.
2025-03-02T15:03:17.475+07:00  INFO 25536 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T15:03:17.507+07:00  INFO 25536 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.
2025-03-02T15:03:18.093+07:00  INFO 25536 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:03:18.600+07:00  INFO 25536 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: f74d533d-9022-4a79-8e3f-403f9fd49356
2025-03-02T15:03:18.600+07:00  INFO 25536 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T15:03:18.712+07:00  INFO 25536 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T15:03:18.813+07:00  INFO 25536 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T15:03:18.856+07:00  INFO 25536 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T15:03:19.207+07:00  INFO 25536 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T15:03:19.383+07:00  INFO 25536 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T15:03:19.670+07:00  INFO 25536 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T15:03:19.670+07:00  INFO 25536 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:03:19.750+07:00  INFO 25536 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T15:03:19.814+07:00  INFO 25536 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T15:03:19.846+07:00  INFO 25536 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:03:19.862+07:00  INFO 25536 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:03:20.178+07:00  INFO 25536 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 4.367 seconds (process running for 4.952)
2025-03-02T15:03:53.815+07:00  INFO 25536 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:03:53.819+07:00  INFO 25536 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T15:03:53.828+07:00  INFO 25536 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T15:04:33.897+07:00  INFO 4200 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 4200 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T15:04:33.897+07:00  INFO 4200 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T15:04:34.497+07:00  INFO 4200 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T15:04:34.499+07:00  INFO 4200 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 10 ms.
2025-03-02T15:04:34.679+07:00  INFO 4200 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T15:04:34.716+07:00  INFO 4200 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.
2025-03-02T15:04:35.313+07:00  INFO 4200 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:04:35.779+07:00  INFO 4200 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 4652049c-e30f-4b5d-9340-3b7006a2bda8
2025-03-02T15:04:35.781+07:00  INFO 4200 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T15:04:35.881+07:00  INFO 4200 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T15:04:35.954+07:00  INFO 4200 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T15:04:35.998+07:00  INFO 4200 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T15:04:36.324+07:00  INFO 4200 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T15:04:36.484+07:00  INFO 4200 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T15:04:36.803+07:00  INFO 4200 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T15:04:36.803+07:00  INFO 4200 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:04:36.883+07:00  INFO 4200 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T15:04:36.954+07:00  INFO 4200 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T15:04:37.004+07:00  INFO 4200 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:04:37.013+07:00  INFO 4200 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:04:37.268+07:00  INFO 4200 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 4.204 seconds (process running for 4.837)
2025-03-02T15:05:00.269+07:00 ERROR 4200 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.jdbc.UncategorizedSQLException: PreparedStatementCallback; uncategorized SQLException for SQL [SELECT JOB_INSTANCE_ID, JOB_NAME
FROM BATCH_JOB_INSTANCE
WHERE JOB_NAME = ?
 and JOB_KEY = ?]; SQL state [S0002]; error code [208]; Invalid object name 'BATCH_JOB_INSTANCE'.
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.getJobInstance(JdbcJobInstanceDao.java:183) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:299) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy79.getLastJobExecution(Unknown Source) ~[na:na]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleUpdateTransaction(BatchScheduler.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'BATCH_JOB_INSTANCE'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:675) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:594) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:509) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	... 33 common frames omitted

2025-03-02T15:06:00.037+07:00 ERROR 4200 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.jdbc.UncategorizedSQLException: PreparedStatementCallback; uncategorized SQLException for SQL [SELECT JOB_INSTANCE_ID, JOB_NAME
FROM BATCH_JOB_INSTANCE
WHERE JOB_NAME = ?
 and JOB_KEY = ?]; SQL state [S0002]; error code [208]; Invalid object name 'BATCH_JOB_INSTANCE'.
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.getJobInstance(JdbcJobInstanceDao.java:183) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:299) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy79.getLastJobExecution(Unknown Source) ~[na:na]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleUpdateTransaction(BatchScheduler.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'BATCH_JOB_INSTANCE'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:675) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:594) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:509) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	... 33 common frames omitted

2025-03-02T15:07:00.040+07:00 ERROR 4200 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.jdbc.UncategorizedSQLException: PreparedStatementCallback; uncategorized SQLException for SQL [SELECT JOB_INSTANCE_ID, JOB_NAME
FROM BATCH_JOB_INSTANCE
WHERE JOB_NAME = ?
 and JOB_KEY = ?]; SQL state [S0002]; error code [208]; Invalid object name 'BATCH_JOB_INSTANCE'.
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.getJobInstance(JdbcJobInstanceDao.java:183) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:299) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy79.getLastJobExecution(Unknown Source) ~[na:na]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleUpdateTransaction(BatchScheduler.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'BATCH_JOB_INSTANCE'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:675) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:594) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:509) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	... 33 common frames omitted

2025-03-02T15:08:00.031+07:00 ERROR 4200 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.jdbc.UncategorizedSQLException: PreparedStatementCallback; uncategorized SQLException for SQL [SELECT JOB_INSTANCE_ID, JOB_NAME
FROM BATCH_JOB_INSTANCE
WHERE JOB_NAME = ?
 and JOB_KEY = ?]; SQL state [S0002]; error code [208]; Invalid object name 'BATCH_JOB_INSTANCE'.
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.getJobInstance(JdbcJobInstanceDao.java:183) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:299) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy79.getLastJobExecution(Unknown Source) ~[na:na]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleUpdateTransaction(BatchScheduler.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'BATCH_JOB_INSTANCE'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:675) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:594) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:509) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	... 33 common frames omitted

2025-03-02T15:09:00.025+07:00 ERROR 4200 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.jdbc.UncategorizedSQLException: PreparedStatementCallback; uncategorized SQLException for SQL [SELECT JOB_INSTANCE_ID, JOB_NAME
FROM BATCH_JOB_INSTANCE
WHERE JOB_NAME = ?
 and JOB_KEY = ?]; SQL state [S0002]; error code [208]; Invalid object name 'BATCH_JOB_INSTANCE'.
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.getJobInstance(JdbcJobInstanceDao.java:183) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:299) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy79.getLastJobExecution(Unknown Source) ~[na:na]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleUpdateTransaction(BatchScheduler.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'BATCH_JOB_INSTANCE'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:675) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:594) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:509) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	... 33 common frames omitted

2025-03-02T15:09:35.121+07:00  INFO 4200 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:09:35.121+07:00  INFO 4200 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T15:09:35.133+07:00  INFO 4200 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T15:09:37.550+07:00  INFO 21280 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 21280 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T15:09:37.551+07:00  INFO 21280 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T15:09:38.112+07:00  INFO 21280 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T15:09:38.114+07:00  INFO 21280 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 12 ms.
2025-03-02T15:09:38.328+07:00  INFO 21280 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T15:09:38.353+07:00  INFO 21280 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2025-03-02T15:09:38.930+07:00  INFO 21280 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:09:39.463+07:00  INFO 21280 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 73f22380-e9ef-4586-aad4-a9423aadbf7c
2025-03-02T15:09:39.465+07:00  INFO 21280 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T15:09:39.639+07:00  INFO 21280 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T15:09:39.739+07:00  INFO 21280 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T15:09:39.805+07:00  INFO 21280 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T15:09:40.290+07:00  INFO 21280 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T15:09:40.454+07:00  INFO 21280 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T15:09:40.817+07:00  INFO 21280 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T15:09:40.822+07:00  INFO 21280 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:09:40.905+07:00  INFO 21280 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T15:09:40.968+07:00  INFO 21280 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T15:09:41.018+07:00  INFO 21280 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:09:41.036+07:00  INFO 21280 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:09:41.436+07:00  INFO 21280 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 4.673 seconds (process running for 5.3)
2025-03-02T15:10:00.252+07:00  INFO 21280 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:10:00.340+07:00  INFO 21280 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-02T15:10:00.371+07:00  INFO 21280 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-02T15:10:00.391+07:00 ERROR 21280 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table unsuccess org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557)
2025-03-02T15:10:00.399+07:00  INFO 21280 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 58ms
2025-03-02T15:10:00.420+07:00  INFO 21280 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 149ms
2025-03-02T15:11:00.129+07:00  INFO 21280 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:11:00.160+07:00  INFO 21280 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:11:00.165+07:00  INFO 21280 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 32ms
2025-03-02T15:12:00.117+07:00  INFO 21280 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:12:00.160+07:00  INFO 21280 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:12:00.166+07:00  INFO 21280 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 43ms
2025-03-02T15:12:13.269+07:00  INFO 21280 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:12:13.277+07:00  INFO 21280 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T15:12:13.284+07:00  INFO 21280 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T15:15:20.875+07:00  INFO 3864 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 3864 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T15:15:20.881+07:00  INFO 3864 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T15:15:21.386+07:00  INFO 3864 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T15:15:21.392+07:00  INFO 3864 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 17 ms.
2025-03-02T15:15:21.588+07:00  INFO 3864 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T15:15:21.621+07:00  INFO 3864 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 0 JPA repository interfaces.
2025-03-02T15:15:22.166+07:00  INFO 3864 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:15:22.628+07:00  INFO 3864 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 228157e3-06b1-498f-9670-189a7d3cb30a
2025-03-02T15:15:22.636+07:00  INFO 3864 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T15:15:22.737+07:00  INFO 3864 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T15:15:22.843+07:00  INFO 3864 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T15:15:22.919+07:00  INFO 3864 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T15:15:23.271+07:00  INFO 3864 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T15:15:23.405+07:00  INFO 3864 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T15:15:23.688+07:00  INFO 3864 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T15:15:23.701+07:00  INFO 3864 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:15:23.776+07:00  INFO 3864 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T15:15:23.841+07:00  INFO 3864 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T15:15:23.891+07:00  INFO 3864 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:15:23.902+07:00  INFO 3864 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:15:24.202+07:00  INFO 3864 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 4.135 seconds (process running for 4.753)
2025-03-02T15:16:00.246+07:00  INFO 3864 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:16:00.281+07:00  INFO 3864 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:16:00.298+07:00  INFO 3864 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 35ms
2025-03-02T15:17:00.101+07:00  INFO 3864 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:17:00.132+07:00  INFO 3864 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:17:00.137+07:00  INFO 3864 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 32ms
2025-03-02T15:18:00.122+07:00  INFO 3864 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:18:00.170+07:00  INFO 3864 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:18:00.187+07:00  INFO 3864 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 48ms
2025-03-02T15:18:33.253+07:00  INFO 3864 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:18:33.253+07:00  INFO 3864 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T15:18:33.269+07:00  INFO 3864 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T15:20:54.621+07:00  INFO 11364 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 11364 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T15:20:54.621+07:00  INFO 11364 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T15:20:55.249+07:00  INFO 11364 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T15:20:55.252+07:00  INFO 11364 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 22 ms.
2025-03-02T15:20:55.450+07:00  INFO 11364 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T15:20:55.482+07:00  INFO 11364 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2025-03-02T15:20:56.091+07:00  INFO 11364 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:20:56.576+07:00  INFO 11364 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: fb167711-57f4-4196-9496-f48a4da7587a
2025-03-02T15:20:56.591+07:00  INFO 11364 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T15:20:56.671+07:00  INFO 11364 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T15:20:56.718+07:00  INFO 11364 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T15:20:56.770+07:00  INFO 11364 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T15:20:57.165+07:00  INFO 11364 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T15:20:57.342+07:00  INFO 11364 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T15:20:57.694+07:00  INFO 11364 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T15:20:57.703+07:00  INFO 11364 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:20:57.783+07:00  INFO 11364 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T15:20:57.865+07:00  INFO 11364 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T15:20:57.944+07:00  INFO 11364 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:20:57.955+07:00  INFO 11364 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:20:58.194+07:00  INFO 11364 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 4.377 seconds (process running for 4.986)
2025-03-02T15:21:00.246+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:21:00.287+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:21:00.287+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 31ms
2025-03-02T15:22:00.124+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:22:00.152+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:22:00.155+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 31ms
2025-03-02T15:23:00.106+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:23:00.147+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:23:00.166+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 41ms
2025-03-02T15:24:00.118+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:24:00.160+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:24:00.169+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 42ms
2025-03-02T15:25:00.101+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:25:00.128+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:25:00.134+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 26ms
2025-03-02T15:26:00.126+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:26:00.161+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:26:00.170+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 33ms
2025-03-02T15:27:00.140+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:27:00.191+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:27:00.206+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 50ms
2025-03-02T15:28:00.088+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:28:00.120+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:28:00.120+07:00  INFO 11364 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 32ms
2025-03-02T15:28:42.030+07:00  INFO 11364 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:28:42.030+07:00  INFO 11364 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T15:28:42.049+07:00  INFO 11364 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T15:38:52.353+07:00  INFO 22724 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 22724 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T15:38:52.355+07:00  INFO 22724 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T15:38:52.977+07:00  INFO 22724 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T15:38:52.984+07:00  INFO 22724 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 13 ms.
2025-03-02T15:38:53.213+07:00  INFO 22724 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T15:38:53.245+07:00  INFO 22724 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 JPA repository interfaces.
2025-03-02T15:38:53.912+07:00  INFO 22724 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:38:54.429+07:00  INFO 22724 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: a4a4043f-714d-4df9-b5e8-43f9f1eb4acd
2025-03-02T15:38:54.429+07:00  INFO 22724 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T15:38:54.524+07:00  INFO 22724 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T15:38:54.626+07:00  INFO 22724 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T15:38:54.670+07:00  INFO 22724 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T15:38:55.029+07:00  INFO 22724 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T15:38:55.207+07:00  INFO 22724 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T15:38:55.522+07:00  INFO 22724 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T15:38:55.529+07:00  INFO 22724 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:38:55.594+07:00  INFO 22724 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T15:38:55.711+07:00  INFO 22724 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:38:55.724+07:00  INFO 22724 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:38:55.726+07:00  INFO 22724 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T15:38:56.021+07:00  INFO 22724 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 4.457 seconds (process running for 5.064)
2025-03-02T15:39:00.246+07:00  INFO 22724 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:39:00.324+07:00  INFO 22724 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:39:00.340+07:00  INFO 22724 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 70ms
2025-03-02T15:39:55.794+07:00  INFO 22724 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:39:55.809+07:00  INFO 22724 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T15:39:55.816+07:00  INFO 22724 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T15:39:59.015+07:00  INFO 5652 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 5652 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T15:39:59.017+07:00  INFO 5652 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T15:39:59.565+07:00  INFO 5652 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T15:39:59.584+07:00  INFO 5652 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 15 ms.
2025-03-02T15:39:59.823+07:00  INFO 5652 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T15:39:59.850+07:00  INFO 5652 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 0 JPA repository interfaces.
2025-03-02T15:40:00.424+07:00  INFO 5652 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:40:01.666+07:00  INFO 5652 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T15:40:01.754+07:00  INFO 5652 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T15:40:01.778+07:00  INFO 5652 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T15:40:02.031+07:00  INFO 5652 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T15:40:02.047+07:00  INFO 5652 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:40:03.060+07:00  WARN 5652 --- [ipassportbatch] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01
2025-03-02T15:40:03.060+07:00 ERROR 5652 --- [ipassportbatch] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : The TCP/IP connection to the host localhost, port 14 has failed. Error: "Connection refused: getsockopt. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".
2025-03-02T15:40:03.060+07:00  WARN 5652 --- [ipassportbatch] [main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata

org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection [The TCP/IP connection to the host localhost, port 14 has failed. Error: "Connection refused: getsockopt. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:320) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.3.jar:3.4.3]
	at com.krungsri.ipassportbatch.IpassportbatchApplication.main(IpassportbatchApplication.java:11) ~[classes/:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 14 has failed. Error: "Connection refused: getsockopt. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:242) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerException.convertConnectExceptionToSQLServerException(SQLServerException.java:308) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2593) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:721) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3768) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3385) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:3194) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1971) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1263) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:467) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	... 34 common frames omitted

2025-03-02T15:40:03.077+07:00 ERROR 5652 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-03-02T15:40:03.079+07:00  WARN 5652 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-03-02T15:40:03.093+07:00  INFO 5652 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-02T15:40:03.129+07:00 ERROR 5652 --- [ipassportbatch] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.3.jar:3.4.3]
	at com.krungsri.ipassportbatch.IpassportbatchApplication.main(IpassportbatchApplication.java:11) ~[classes/:na]
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:276) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.3.jar:6.2.3]
	... 14 common frames omitted
Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:191) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:392) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	... 29 common frames omitted

2025-03-02T15:40:14.426+07:00  INFO 30528 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 30528 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T15:40:14.428+07:00  INFO 30528 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T15:40:14.959+07:00  INFO 30528 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T15:40:14.959+07:00  INFO 30528 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 15 ms.
2025-03-02T15:40:15.138+07:00  INFO 30528 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T15:40:15.178+07:00  INFO 30528 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2025-03-02T15:40:15.725+07:00  INFO 30528 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:40:16.933+07:00  INFO 30528 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T15:40:16.969+07:00  INFO 30528 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T15:40:16.983+07:00  INFO 30528 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T15:40:17.235+07:00  INFO 30528 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T15:40:17.263+07:00  INFO 30528 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:40:18.316+07:00  WARN 30528 --- [ipassportbatch] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01
2025-03-02T15:40:18.318+07:00 ERROR 30528 --- [ipassportbatch] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : The TCP/IP connection to the host localhost, port 1443 has failed. Error: "Connection refused: getsockopt. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".
2025-03-02T15:40:18.318+07:00  WARN 30528 --- [ipassportbatch] [main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata

org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection [The TCP/IP connection to the host localhost, port 1443 has failed. Error: "Connection refused: getsockopt. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:320) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.3.jar:3.4.3]
	at com.krungsri.ipassportbatch.IpassportbatchApplication.main(IpassportbatchApplication.java:11) ~[classes/:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1443 has failed. Error: "Connection refused: getsockopt. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:242) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerException.convertConnectExceptionToSQLServerException(SQLServerException.java:308) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2593) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:721) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3768) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3385) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:3194) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1971) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1263) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:467) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	... 34 common frames omitted

2025-03-02T15:40:18.327+07:00 ERROR 30528 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-03-02T15:40:18.329+07:00  WARN 30528 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-03-02T15:40:18.344+07:00  INFO 30528 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-02T15:40:18.391+07:00 ERROR 30528 --- [ipassportbatch] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.3.jar:3.4.3]
	at com.krungsri.ipassportbatch.IpassportbatchApplication.main(IpassportbatchApplication.java:11) ~[classes/:na]
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:276) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.3.jar:6.2.3]
	... 14 common frames omitted
Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:191) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:392) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	... 29 common frames omitted

2025-03-02T15:40:25.357+07:00  INFO 11904 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 11904 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T15:40:25.359+07:00  INFO 11904 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T15:40:25.843+07:00  INFO 11904 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T15:40:25.845+07:00  INFO 11904 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 10 ms.
2025-03-02T15:40:26.017+07:00  INFO 11904 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T15:40:26.048+07:00  INFO 11904 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 0 JPA repository interfaces.
2025-03-02T15:40:26.606+07:00  INFO 11904 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:40:27.820+07:00  INFO 11904 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T15:40:27.888+07:00  INFO 11904 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T15:40:27.912+07:00  INFO 11904 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T15:40:28.179+07:00  INFO 11904 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T15:40:28.203+07:00  INFO 11904 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:40:29.239+07:00  WARN 11904 --- [ipassportbatch] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01
2025-03-02T15:40:29.239+07:00 ERROR 11904 --- [ipassportbatch] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : The TCP/IP connection to the host localhost, port 1443 has failed. Error: "Connection refused: getsockopt. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".
2025-03-02T15:40:29.254+07:00  WARN 11904 --- [ipassportbatch] [main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata

org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection [The TCP/IP connection to the host localhost, port 1443 has failed. Error: "Connection refused: getsockopt. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:320) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.3.jar:3.4.3]
	at com.krungsri.ipassportbatch.IpassportbatchApplication.main(IpassportbatchApplication.java:11) ~[classes/:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1443 has failed. Error: "Connection refused: getsockopt. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:242) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerException.convertConnectExceptionToSQLServerException(SQLServerException.java:308) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2593) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:721) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3768) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3385) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:3194) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1971) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1263) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:467) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	... 34 common frames omitted

2025-03-02T15:40:29.263+07:00 ERROR 11904 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-03-02T15:40:29.263+07:00  WARN 11904 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-03-02T15:40:29.277+07:00  INFO 11904 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-02T15:40:29.290+07:00 ERROR 11904 --- [ipassportbatch] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.3.jar:3.4.3]
	at com.krungsri.ipassportbatch.IpassportbatchApplication.main(IpassportbatchApplication.java:11) ~[classes/:na]
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:276) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.3.jar:6.2.3]
	... 14 common frames omitted
Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:191) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:392) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-6.6.8.Final.jar:6.6.8.Final]
	... 29 common frames omitted

2025-03-02T15:40:42.500+07:00  INFO 22596 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 22596 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T15:40:42.502+07:00  INFO 22596 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T15:40:43.057+07:00  INFO 22596 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T15:40:43.071+07:00  INFO 22596 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 31 ms.
2025-03-02T15:40:43.256+07:00  INFO 22596 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T15:40:43.293+07:00  INFO 22596 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.
2025-03-02T15:40:43.869+07:00  INFO 22596 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:40:44.346+07:00  INFO 22596 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: c586cac4-4ba8-4326-b36a-7e23e512fdc9
2025-03-02T15:40:44.348+07:00  INFO 22596 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T15:40:44.485+07:00  INFO 22596 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T15:40:44.644+07:00  INFO 22596 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T15:40:44.732+07:00  INFO 22596 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T15:40:45.085+07:00  INFO 22596 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T15:40:45.372+07:00  INFO 22596 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T15:40:45.658+07:00  INFO 22596 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T15:40:45.662+07:00  INFO 22596 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:40:45.701+07:00  INFO 22596 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T15:40:45.807+07:00  INFO 22596 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:40:45.817+07:00  INFO 22596 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:40:45.821+07:00  INFO 22596 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T15:40:46.103+07:00  INFO 22596 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 4.405 seconds (process running for 4.946)
2025-03-02T15:41:00.233+07:00  INFO 22596 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:41:00.264+07:00  INFO 22596 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:41:00.276+07:00  INFO 22596 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 30ms
2025-03-02T15:41:33.445+07:00  INFO 22596 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:41:33.445+07:00  INFO 22596 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T15:41:33.459+07:00  INFO 22596 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T15:42:57.703+07:00  INFO 3616 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 3616 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T15:42:57.704+07:00  INFO 3616 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T15:42:58.366+07:00  INFO 3616 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T15:42:58.377+07:00  INFO 3616 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 14 ms.
2025-03-02T15:42:58.554+07:00  INFO 3616 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T15:42:58.586+07:00  INFO 3616 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 JPA repository interfaces.
2025-03-02T15:42:59.170+07:00  INFO 3616 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:42:59.654+07:00  INFO 3616 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 2797e8f5-543f-4545-b965-f2662eb28729
2025-03-02T15:42:59.654+07:00  INFO 3616 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T15:42:59.756+07:00  INFO 3616 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T15:42:59.835+07:00  INFO 3616 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T15:42:59.880+07:00  INFO 3616 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T15:43:00.238+07:00  INFO 3616 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T15:43:00.382+07:00  INFO 3616 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T15:43:00.673+07:00  INFO 3616 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T15:43:00.673+07:00  INFO 3616 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:43:00.752+07:00  INFO 3616 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T15:43:00.824+07:00  INFO 3616 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T15:43:00.879+07:00  INFO 3616 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:43:00.899+07:00  INFO 3616 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:43:01.163+07:00  INFO 3616 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 4.314 seconds (process running for 4.846)
2025-03-02T15:44:00.229+07:00  INFO 3616 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] launched with the following parameters: [{}]
2025-03-02T15:44:00.245+07:00  INFO 3616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:44:00.261+07:00  INFO 3616 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportIdJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 16ms
2025-03-02T15:44:16.694+07:00  INFO 3616 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:44:16.707+07:00  INFO 3616 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T15:44:16.709+07:00  INFO 3616 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T15:44:20.082+07:00  INFO 24192 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 24192 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T15:44:20.082+07:00  INFO 24192 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T15:44:20.677+07:00  INFO 24192 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T15:44:20.689+07:00  INFO 24192 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 20 ms.
2025-03-02T15:44:21.025+07:00  INFO 24192 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T15:44:21.054+07:00  INFO 24192 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2025-03-02T15:44:21.602+07:00  INFO 24192 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:44:22.122+07:00  INFO 24192 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: a24d0947-94cc-4e0f-8581-dd7680b443e0
2025-03-02T15:44:22.124+07:00  INFO 24192 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T15:44:22.334+07:00  INFO 24192 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T15:44:22.435+07:00  INFO 24192 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T15:44:22.496+07:00  INFO 24192 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T15:44:22.887+07:00  INFO 24192 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T15:44:23.094+07:00  INFO 24192 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T15:44:23.412+07:00  INFO 24192 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T15:44:23.412+07:00  INFO 24192 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:44:23.480+07:00  INFO 24192 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T15:44:23.539+07:00  INFO 24192 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T15:44:23.602+07:00  INFO 24192 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:44:23.618+07:00  INFO 24192 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:44:24.017+07:00  INFO 24192 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 4.688 seconds (process running for 5.324)
2025-03-02T15:45:00.205+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] launched with the following parameters: [{}]
2025-03-02T15:45:00.252+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-02T15:45:00.269+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-02T15:45:00.269+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-02T15:45:00.284+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 31ms
2025-03-02T15:45:00.306+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 95ms
2025-03-02T15:46:00.141+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] launched with the following parameters: [{}]
2025-03-02T15:46:00.173+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=1, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:46:00.189+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 31ms
2025-03-02T15:47:00.119+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] launched with the following parameters: [{}]
2025-03-02T15:47:00.177+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=1, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:47:00.183+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 58ms
2025-03-02T15:48:00.129+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] launched with the following parameters: [{}]
2025-03-02T15:48:00.159+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=1, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:48:00.159+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 29ms
2025-03-02T15:49:00.100+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] launched with the following parameters: [{}]
2025-03-02T15:49:00.124+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=1, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:49:00.130+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 24ms
2025-03-02T15:50:00.133+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] launched with the following parameters: [{}]
2025-03-02T15:50:00.170+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=1, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:50:00.178+07:00  INFO 24192 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 35ms
2025-03-02T15:50:22.057+07:00  INFO 24192 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:50:22.057+07:00  INFO 24192 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T15:50:22.074+07:00  INFO 24192 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T15:50:25.948+07:00  INFO 16928 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 16928 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T15:50:25.948+07:00  INFO 16928 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T15:50:26.533+07:00  INFO 16928 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T15:50:26.533+07:00  INFO 16928 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 9 ms.
2025-03-02T15:50:26.723+07:00  INFO 16928 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T15:50:26.755+07:00  INFO 16928 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 JPA repository interfaces.
2025-03-02T15:50:27.285+07:00  INFO 16928 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:50:27.747+07:00  INFO 16928 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 7ac812ea-990c-474a-adfd-c685dc3f0a5e
2025-03-02T15:50:27.754+07:00  INFO 16928 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T15:50:27.888+07:00  INFO 16928 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T15:50:28.009+07:00  INFO 16928 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T15:50:28.080+07:00  INFO 16928 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T15:50:28.602+07:00  INFO 16928 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T15:50:28.790+07:00  INFO 16928 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T15:50:29.175+07:00  INFO 16928 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T15:50:29.180+07:00  INFO 16928 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:50:29.245+07:00  INFO 16928 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T15:50:29.292+07:00  INFO 16928 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T15:50:29.332+07:00  INFO 16928 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:50:29.340+07:00  INFO 16928 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:50:29.641+07:00  INFO 16928 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 4.509 seconds (process running for 5.123)
2025-03-02T15:51:00.434+07:00  INFO 16928 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] launched with the following parameters: [{}]
2025-03-02T15:51:00.466+07:00  INFO 16928 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=1, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:51:00.482+07:00  INFO 16928 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 31ms
2025-03-02T15:52:00.092+07:00  INFO 16928 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] launched with the following parameters: [{}]
2025-03-02T15:52:00.117+07:00  INFO 16928 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Step already complete or not restartable, so no action to execute: StepExecution: id=1, version=3, name=clearPassportIdStep, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=
2025-03-02T15:52:00.132+07:00  INFO 16928 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearPassportId]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 15ms
2025-03-02T15:52:56.654+07:00  INFO 16928 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:52:56.654+07:00  INFO 16928 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T15:52:56.666+07:00  INFO 16928 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T15:58:42.528+07:00  INFO 20836 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 20836 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T15:58:42.528+07:00  INFO 20836 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-02T15:58:43.057+07:00  INFO 20836 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-02T15:58:43.057+07:00  INFO 20836 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 17 ms.
2025-03-02T15:58:43.262+07:00  INFO 20836 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T15:58:43.298+07:00  INFO 20836 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 JPA repository interfaces.
2025-03-02T15:58:43.859+07:00  INFO 20836 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T15:58:44.344+07:00  INFO 20836 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: e900e8bf-8f8f-461b-a12d-2053adcacf9f
2025-03-02T15:58:44.344+07:00  INFO 20836 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T15:58:44.482+07:00  INFO 20836 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T15:58:44.605+07:00  INFO 20836 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-02T15:58:44.656+07:00  INFO 20836 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T15:58:45.022+07:00  INFO 20836 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T15:58:45.182+07:00  INFO 20836 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T15:58:45.469+07:00  INFO 20836 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T15:58:45.469+07:00  INFO 20836 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T15:58:45.532+07:00  INFO 20836 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-02T15:58:45.596+07:00  INFO 20836 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-02T15:58:45.654+07:00  INFO 20836 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:58:45.662+07:00  INFO 20836 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-02T15:58:45.928+07:00  INFO 20836 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 4.15 seconds (process running for 4.729)
2025-03-02T15:59:00.300+07:00 ERROR 20836 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.batch.core.repository.JobRestartException: JobInstance already exists and is not restartable
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:112) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleUpdateTransaction(BatchScheduler.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]

2025-03-02T16:00:00.108+07:00 ERROR 20836 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.batch.core.repository.JobRestartException: JobInstance already exists and is not restartable
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:112) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleUpdateTransaction(BatchScheduler.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]

2025-03-02T16:00:40.198+07:00  INFO 20836 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T16:00:40.198+07:00  INFO 20836 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-02T16:00:40.218+07:00  INFO 20836 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-02T16:00:44.122+07:00  INFO 11844 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 11844 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-02T16:00:44.129+07:00  INFO 11844 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T08:49:38.932+07:00  INFO 15532 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 15532 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T08:49:38.934+07:00  INFO 15532 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T08:49:39.302+07:00  INFO 15532 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T08:49:39.304+07:00  INFO 15532 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 6 ms.
2025-03-03T08:49:39.421+07:00  INFO 15532 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T08:49:39.439+07:00  INFO 15532 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
2025-03-03T08:49:39.849+07:00  INFO 15532 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T08:49:40.194+07:00  INFO 15532 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: ba7e5e55-f39e-4208-ae62-efaa145d8d0a
2025-03-03T08:49:40.195+07:00  INFO 15532 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T08:49:40.263+07:00  INFO 15532 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T08:49:40.335+07:00  INFO 15532 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T08:49:40.371+07:00  INFO 15532 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T08:49:40.635+07:00  INFO 15532 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T08:49:40.790+07:00  INFO 15532 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T08:49:41.052+07:00  INFO 15532 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T08:49:41.056+07:00  INFO 15532 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T08:49:41.118+07:00  INFO 15532 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T08:49:41.163+07:00  INFO 15532 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T08:49:41.205+07:00  INFO 15532 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T08:49:41.208+07:00  INFO 15532 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T08:49:41.215+07:00  INFO 15532 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T08:49:41.401+07:00  INFO 15532 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.958 seconds (process running for 3.396)
2025-03-03T08:50:00.123+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T08:50:00.168+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T08:50:00.188+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T08:50:00.197+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T08:50:00.203+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 34ms
2025-03-03T08:50:00.241+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T08:50:00.252+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T08:50:00.263+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T08:50:00.267+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 26ms
2025-03-03T08:50:00.281+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 149ms
2025-03-03T08:50:00.314+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T08:50:00.330+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T08:50:00.341+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T08:50:00.342+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T08:50:00.346+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 16ms
2025-03-03T08:50:00.383+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T08:50:00.398+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T08:50:00.407+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T08:50:00.425+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 41ms
2025-03-03T08:50:00.476+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 146ms
2025-03-03T08:50:00.540+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T08:50:00.587+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T08:50:00.600+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T08:50:00.607+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T08:50:00.611+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 24ms
2025-03-03T08:50:00.680+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T08:50:00.705+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T08:50:00.718+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T08:50:00.736+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 56ms
2025-03-03T08:50:00.776+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 219ms
2025-03-03T08:51:00.092+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T08:51:00.141+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T08:51:00.170+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T08:51:00.180+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T08:51:00.186+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 45ms
2025-03-03T08:51:00.556+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T08:51:00.585+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T08:51:00.594+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T08:51:00.612+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 55ms
2025-03-03T08:51:00.695+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 574ms
2025-03-03T08:51:00.780+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T08:51:00.845+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T08:51:00.876+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T08:51:00.877+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T08:51:00.890+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 44ms
2025-03-03T08:51:01.191+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T08:51:01.213+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T08:51:01.214+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T08:51:01.258+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 66ms
2025-03-03T08:51:01.312+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 528ms
2025-03-03T08:51:01.394+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T08:51:01.413+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T08:51:01.420+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T08:51:01.421+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T08:51:01.425+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 11ms
2025-03-03T08:51:01.446+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T08:51:01.454+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T08:51:01.455+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T08:51:01.457+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 10ms
2025-03-03T08:51:01.470+07:00  INFO 15532 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 71ms
2025-03-03T08:51:07.990+07:00  INFO 15532 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T08:51:07.992+07:00  INFO 15532 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T08:51:07.996+07:00  INFO 15532 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T08:53:02.617+07:00  INFO 10228 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 10228 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T08:53:02.619+07:00  INFO 10228 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T08:53:02.965+07:00  INFO 10228 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T08:53:02.969+07:00  INFO 10228 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 10 ms.
2025-03-03T08:53:03.084+07:00  INFO 10228 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T08:53:03.097+07:00  INFO 10228 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-03-03T08:53:03.493+07:00  INFO 10228 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T08:53:03.776+07:00  INFO 10228 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 5da1eb45-aa7b-4d30-8673-497a04295300
2025-03-03T08:53:03.778+07:00  INFO 10228 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T08:53:03.842+07:00  INFO 10228 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T08:53:03.880+07:00  INFO 10228 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T08:53:03.925+07:00  INFO 10228 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T08:53:04.176+07:00  INFO 10228 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T08:53:04.283+07:00  INFO 10228 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T08:53:04.552+07:00  INFO 10228 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T08:53:04.558+07:00  INFO 10228 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T08:53:04.612+07:00  INFO 10228 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T08:53:04.658+07:00  INFO 10228 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T08:53:04.693+07:00  INFO 10228 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T08:53:04.695+07:00  INFO 10228 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T08:53:04.701+07:00  INFO 10228 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T08:53:04.880+07:00  INFO 10228 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.693 seconds (process running for 3.015)
2025-03-03T08:54:00.142+07:00  INFO 10228 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T08:54:00.210+07:00  INFO 10228 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T08:54:00.240+07:00  INFO 10228 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T08:54:00.248+07:00  INFO 10228 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T08:54:00.257+07:00  INFO 10228 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 45ms
2025-03-03T08:54:00.295+07:00  INFO 10228 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T08:54:00.309+07:00  INFO 10228 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T08:54:00.315+07:00  INFO 10228 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T08:54:00.323+07:00  INFO 10228 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 27ms
2025-03-03T08:54:00.346+07:00  INFO 10228 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 191ms
2025-03-03T08:54:11.019+07:00  INFO 10228 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T08:54:11.020+07:00  INFO 10228 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T08:54:11.023+07:00  INFO 10228 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T08:55:40.351+07:00  INFO 23656 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 23656 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T08:55:40.355+07:00  INFO 23656 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T08:55:40.704+07:00  INFO 23656 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T08:55:40.706+07:00  INFO 23656 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 10 ms.
2025-03-03T08:55:40.827+07:00  INFO 23656 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T08:55:40.845+07:00  INFO 23656 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2025-03-03T08:55:41.217+07:00  INFO 23656 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T08:55:41.498+07:00  INFO 23656 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: c4224e80-a5bb-4bbb-b53e-fa6f69d034c3
2025-03-03T08:55:41.499+07:00  INFO 23656 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T08:55:41.563+07:00  INFO 23656 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T08:55:41.593+07:00  INFO 23656 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T08:55:41.616+07:00  INFO 23656 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T08:55:41.858+07:00  INFO 23656 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T08:55:41.974+07:00  INFO 23656 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T08:55:42.233+07:00  INFO 23656 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T08:55:42.238+07:00  INFO 23656 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T08:55:42.293+07:00  INFO 23656 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T08:55:42.327+07:00  INFO 23656 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T08:55:42.365+07:00  INFO 23656 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T08:55:42.369+07:00  INFO 23656 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T08:55:42.377+07:00  INFO 23656 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T08:55:42.566+07:00  INFO 23656 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.649 seconds (process running for 2.97)
2025-03-03T08:56:00.251+07:00  INFO 23656 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T08:56:00.326+07:00  INFO 23656 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T08:56:00.359+07:00  INFO 23656 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T08:56:00.398+07:00  INFO 23656 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T08:56:00.428+07:00  INFO 23656 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 101ms
2025-03-03T08:56:00.527+07:00  INFO 23656 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T08:56:00.541+07:00  INFO 23656 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T08:56:00.547+07:00  INFO 23656 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T08:56:00.556+07:00  INFO 23656 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 27ms
2025-03-03T08:56:00.579+07:00  INFO 23656 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 312ms
2025-03-03T08:56:43.091+07:00  INFO 23656 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T08:56:43.092+07:00  INFO 23656 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T08:56:43.096+07:00  INFO 23656 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T08:56:56.280+07:00  INFO 21064 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplicationTests     : Starting IpassportbatchApplicationTests using Java 21.0.5 with PID 21064 (started by User in D:\Krungsri\ipassport-batch)
2025-03-03T08:56:56.281+07:00  INFO 21064 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplicationTests     : No active profile set, falling back to 1 default profile: "default"
2025-03-03T08:56:56.531+07:00  INFO 21064 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T08:56:56.533+07:00  INFO 21064 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 3 ms.
2025-03-03T08:56:56.633+07:00  INFO 21064 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T08:56:56.646+07:00  INFO 21064 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-03-03T08:56:57.057+07:00  INFO 21064 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T08:56:57.404+07:00  INFO 21064 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 7ed3ed18-1011-4f0e-887f-a3f15a9ac47b
2025-03-03T08:56:57.406+07:00  INFO 21064 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T08:56:57.473+07:00  INFO 21064 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T08:56:57.529+07:00  INFO 21064 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T08:56:57.574+07:00  INFO 21064 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T08:56:57.851+07:00  INFO 21064 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T08:56:57.977+07:00  INFO 21064 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T08:56:58.283+07:00  INFO 21064 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T08:56:58.289+07:00  INFO 21064 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T08:56:58.342+07:00  INFO 21064 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T08:56:58.389+07:00  INFO 21064 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T08:56:58.429+07:00  INFO 21064 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T08:56:58.432+07:00  INFO 21064 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T08:56:58.439+07:00  INFO 21064 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T08:56:58.601+07:00  INFO 21064 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplicationTests     : Started IpassportbatchApplicationTests in 2.613 seconds (process running for 3.491)
2025-03-03T08:56:59.228+07:00  INFO 21064 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T08:56:59.232+07:00  INFO 21064 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T08:56:59.240+07:00  INFO 21064 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T09:00:15.740+07:00  INFO 7548 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 7548 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T09:00:15.742+07:00  INFO 7548 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T09:00:16.069+07:00  INFO 7548 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T09:00:16.071+07:00  INFO 7548 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 9 ms.
2025-03-03T09:00:16.182+07:00  INFO 7548 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T09:00:16.204+07:00  INFO 7548 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-03-03T09:00:16.597+07:00  INFO 7548 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T09:00:16.901+07:00  INFO 7548 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 5b5e6361-f159-4780-b9de-5dbf14663068
2025-03-03T09:00:16.903+07:00  INFO 7548 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T09:00:16.971+07:00  INFO 7548 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T09:00:17.009+07:00  INFO 7548 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T09:00:17.047+07:00  INFO 7548 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T09:00:17.287+07:00  INFO 7548 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T09:00:17.407+07:00  INFO 7548 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T09:00:17.681+07:00  INFO 7548 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T09:00:17.688+07:00  INFO 7548 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:00:17.728+07:00  INFO 7548 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T09:00:17.769+07:00  INFO 7548 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T09:00:17.806+07:00  INFO 7548 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:00:17.809+07:00  INFO 7548 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:00:17.818+07:00  INFO 7548 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:00:17.986+07:00  INFO 7548 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.694 seconds (process running for 3.058)
2025-03-03T09:00:17.995+07:00  INFO 7548 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:00:17.998+07:00  INFO 7548 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T09:00:18.003+07:00  INFO 7548 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T09:01:24.803+07:00  INFO 26108 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 26108 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T09:01:24.805+07:00  INFO 26108 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T09:01:25.137+07:00  INFO 26108 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T09:01:25.139+07:00  INFO 26108 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 9 ms.
2025-03-03T09:01:25.258+07:00  INFO 26108 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T09:01:25.275+07:00  INFO 26108 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2025-03-03T09:01:25.649+07:00  INFO 26108 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T09:01:25.940+07:00  INFO 26108 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 34a0052d-ce1d-4c62-9d75-7c1ba24fa0ec
2025-03-03T09:01:25.941+07:00  INFO 26108 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T09:01:26.011+07:00  INFO 26108 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T09:01:26.046+07:00  INFO 26108 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T09:01:26.086+07:00  INFO 26108 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T09:01:26.335+07:00  INFO 26108 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T09:01:26.453+07:00  INFO 26108 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T09:01:26.723+07:00  INFO 26108 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T09:01:26.726+07:00  INFO 26108 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:01:26.773+07:00  INFO 26108 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T09:01:26.816+07:00  INFO 26108 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T09:01:26.855+07:00  INFO 26108 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:01:26.859+07:00  INFO 26108 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:01:26.865+07:00  INFO 26108 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:01:27.055+07:00  INFO 26108 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.694 seconds (process running for 3.033)
2025-03-03T09:02:00.338+07:00  INFO 26108 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T09:02:00.413+07:00  INFO 26108 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T09:02:00.437+07:00  INFO 26108 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T09:02:00.444+07:00  INFO 26108 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T09:02:00.452+07:00  INFO 26108 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 38ms
2025-03-03T09:02:00.489+07:00  INFO 26108 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T09:02:00.497+07:00  INFO 26108 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T09:02:00.501+07:00  INFO 26108 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T09:02:00.505+07:00  INFO 26108 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 15ms
2025-03-03T09:02:00.546+07:00  INFO 26108 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 180ms
2025-03-03T09:02:25.485+07:00  INFO 26108 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:02:25.487+07:00  INFO 26108 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T09:02:25.490+07:00  INFO 26108 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T09:03:19.807+07:00  INFO 16988 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 16988 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T09:03:19.809+07:00  INFO 16988 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T09:03:20.163+07:00  INFO 16988 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T09:03:20.165+07:00  INFO 16988 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 12 ms.
2025-03-03T09:03:20.288+07:00  INFO 16988 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T09:03:20.306+07:00  INFO 16988 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2025-03-03T09:03:20.711+07:00  INFO 16988 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T09:03:21.019+07:00  INFO 16988 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 0e5528c1-d3f8-4436-92d0-382aadc5878d
2025-03-03T09:03:21.021+07:00  INFO 16988 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T09:03:21.096+07:00  INFO 16988 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T09:03:21.125+07:00  INFO 16988 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T09:03:21.163+07:00  INFO 16988 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T09:03:21.409+07:00  INFO 16988 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T09:03:21.539+07:00  INFO 16988 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T09:03:21.830+07:00  INFO 16988 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T09:03:21.834+07:00  INFO 16988 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:03:21.896+07:00  INFO 16988 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T09:03:21.942+07:00  INFO 16988 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T09:03:21.980+07:00  INFO 16988 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:03:21.985+07:00  INFO 16988 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:03:21.997+07:00  INFO 16988 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:03:22.001+07:00  WARN 16988 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setMarkExpiredTransaction' parameter 0: No qualifying bean of type 'org.springframework.batch.core.Job' available: expected single matching bean but found 3: clearCustomerData,dataRetention,markExpireTransaction
2025-03-03T09:03:22.001+07:00  INFO 16988 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:03:22.006+07:00  INFO 16988 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T09:03:22.012+07:00  INFO 16988 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T09:03:22.021+07:00  INFO 16988 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T09:03:22.044+07:00 ERROR 16988 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method setMarkExpiredTransaction in com.krungsri.ipassportbatch.scheduler.BatchScheduler required a single bean, but 3 were found:
	- clearCustomerData: defined by method 'clearCustomerData' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- dataRetention: defined by method 'dataRetention' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- markExpireTransaction: defined by method 'markExpireTransaction' in class path resource [com/krungsri/ipassportbatch/job/MarkExpireTransactionJob.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2025-03-03T09:05:41.135+07:00  INFO 31148 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 31148 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T09:05:41.136+07:00  INFO 31148 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T09:05:41.500+07:00  INFO 31148 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T09:05:41.503+07:00  INFO 31148 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 8 ms.
2025-03-03T09:05:41.634+07:00  INFO 31148 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T09:05:41.650+07:00  INFO 31148 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.
2025-03-03T09:05:42.142+07:00  INFO 31148 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T09:05:42.423+07:00  INFO 31148 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: f1fc9a1c-8413-4574-bb88-135498845d04
2025-03-03T09:05:42.424+07:00  INFO 31148 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T09:05:42.479+07:00  INFO 31148 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T09:05:42.507+07:00  INFO 31148 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T09:05:42.527+07:00  INFO 31148 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T09:05:42.786+07:00  INFO 31148 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T09:05:42.904+07:00  INFO 31148 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T09:05:43.182+07:00  INFO 31148 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T09:05:43.187+07:00  INFO 31148 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:05:43.208+07:00  WARN 31148 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setMarkExpiredTransaction' parameter 0: No qualifying bean of type 'org.springframework.batch.core.Job' available: expected single matching bean but found 3: clearCustomerData,dataRetention,markExpireTransaction
2025-03-03T09:05:43.208+07:00  INFO 31148 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:05:43.212+07:00  INFO 31148 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T09:05:43.219+07:00  INFO 31148 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T09:05:43.230+07:00  INFO 31148 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T09:05:43.255+07:00 ERROR 31148 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method setMarkExpiredTransaction in com.krungsri.ipassportbatch.scheduler.BatchScheduler required a single bean, but 3 were found:
	- clearCustomerData: defined by method 'clearCustomerData' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- dataRetention: defined by method 'dataRetention' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- markExpireTransaction: defined by method 'markExpireTransaction' in class path resource [com/krungsri/ipassportbatch/job/MarkExpireTransactionJob.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2025-03-03T09:07:09.298+07:00  INFO 23920 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 23920 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T09:07:09.299+07:00  INFO 23920 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T09:07:09.665+07:00  INFO 23920 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T09:07:09.667+07:00  INFO 23920 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 10 ms.
2025-03-03T09:07:09.789+07:00  INFO 23920 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T09:07:09.807+07:00  INFO 23920 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JPA repository interfaces.
2025-03-03T09:07:10.194+07:00  INFO 23920 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T09:07:10.486+07:00  INFO 23920 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 2ef9f8ea-7fb1-4588-9972-198aff14d5ba
2025-03-03T09:07:10.487+07:00  INFO 23920 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T09:07:10.544+07:00  INFO 23920 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T09:07:10.576+07:00  INFO 23920 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T09:07:10.595+07:00  INFO 23920 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T09:07:10.852+07:00  INFO 23920 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T09:07:10.969+07:00  INFO 23920 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T09:07:11.241+07:00  INFO 23920 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T09:07:11.246+07:00  INFO 23920 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:07:11.305+07:00  INFO 23920 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T09:07:11.350+07:00  INFO 23920 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T09:07:11.395+07:00  INFO 23920 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:07:11.398+07:00  INFO 23920 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:07:11.407+07:00  INFO 23920 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:07:11.411+07:00  INFO 23920 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:07:11.412+07:00  INFO 23920 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:07:11.413+07:00  INFO 23920 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:07:11.414+07:00  INFO 23920 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:07:11.603+07:00  INFO 23920 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.737 seconds (process running for 3.061)
2025-03-03T09:08:00.117+07:00  INFO 23920 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] launched with the following parameters: [{}]
2025-03-03T09:08:00.162+07:00  INFO 23920 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [markExpireStep]
2025-03-03T09:08:00.196+07:00  INFO 23920 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : Updating Expire IPRO_TX_TRANSACTION table...
2025-03-03T09:08:00.212+07:00  INFO 23920 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : IPRO_TX_TRANSACTION Update success.
2025-03-03T09:08:00.218+07:00  INFO 23920 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [markExpireStep] executed in 55ms
2025-03-03T09:08:00.241+07:00  INFO 23920 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 112ms
2025-03-03T09:08:29.824+07:00  INFO 23920 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:08:29.825+07:00  INFO 23920 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T09:08:29.829+07:00  INFO 23920 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T09:13:47.123+07:00  INFO 29708 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 29708 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T09:13:47.124+07:00  INFO 29708 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T09:13:47.460+07:00  INFO 29708 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T09:13:47.463+07:00  INFO 29708 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 8 ms.
2025-03-03T09:13:47.584+07:00  INFO 29708 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T09:13:47.599+07:00  INFO 29708 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.
2025-03-03T09:13:48.002+07:00  INFO 29708 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T09:13:48.282+07:00  INFO 29708 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: b7ab6973-13f0-444d-9065-d0539763e350
2025-03-03T09:13:48.283+07:00  INFO 29708 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T09:13:48.342+07:00  INFO 29708 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T09:13:48.380+07:00  INFO 29708 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T09:13:48.419+07:00  INFO 29708 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T09:13:48.664+07:00  INFO 29708 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T09:13:48.775+07:00  INFO 29708 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T09:13:49.035+07:00  INFO 29708 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T09:13:49.040+07:00  INFO 29708 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:13:49.086+07:00  INFO 29708 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T09:13:49.126+07:00  INFO 29708 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T09:13:49.156+07:00  INFO 29708 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:13:49.160+07:00  INFO 29708 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:13:49.167+07:00  INFO 29708 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:13:49.170+07:00  INFO 29708 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:13:49.172+07:00  INFO 29708 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:13:49.173+07:00  INFO 29708 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:13:49.173+07:00  INFO 29708 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:13:49.360+07:00  INFO 29708 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.667 seconds (process running for 2.983)
2025-03-03T09:14:00.126+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T09:14:00.175+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T09:14:00.197+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T09:14:00.203+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T09:14:00.209+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 31ms
2025-03-03T09:14:00.237+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T09:14:00.244+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T09:14:00.250+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T09:14:00.254+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 16ms
2025-03-03T09:14:00.267+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 132ms
2025-03-03T09:14:00.283+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] launched with the following parameters: [{}]
2025-03-03T09:14:00.297+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [markExpireStep]
2025-03-03T09:14:00.303+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : Updating Expire IPRO_TX_TRANSACTION table...
2025-03-03T09:14:00.309+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : IPRO_TX_TRANSACTION Update success.
2025-03-03T09:14:00.322+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [markExpireStep] executed in 25ms
2025-03-03T09:14:00.345+07:00  INFO 29708 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 58ms
2025-03-03T09:14:31.881+07:00  INFO 29708 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:14:31.882+07:00  INFO 29708 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T09:14:31.887+07:00  INFO 29708 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T09:16:52.411+07:00  INFO 17912 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 17912 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T09:16:52.414+07:00  INFO 17912 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T09:16:52.748+07:00  INFO 17912 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T09:16:52.751+07:00  INFO 17912 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 9 ms.
2025-03-03T09:16:52.870+07:00  INFO 17912 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T09:16:52.888+07:00  INFO 17912 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 JPA repository interfaces.
2025-03-03T09:16:53.265+07:00  INFO 17912 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T09:16:53.558+07:00  INFO 17912 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: db2acf8d-90c8-4a69-895b-054964b71bea
2025-03-03T09:16:53.560+07:00  INFO 17912 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T09:16:53.618+07:00  INFO 17912 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T09:16:53.651+07:00  INFO 17912 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T09:16:53.674+07:00  INFO 17912 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T09:16:53.923+07:00  INFO 17912 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T09:16:54.028+07:00  INFO 17912 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T09:16:54.295+07:00  INFO 17912 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T09:16:54.299+07:00  INFO 17912 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:16:54.357+07:00  INFO 17912 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T09:16:54.398+07:00  INFO 17912 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T09:16:54.429+07:00  INFO 17912 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:16:54.432+07:00  INFO 17912 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:16:54.442+07:00  INFO 17912 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:16:54.446+07:00  INFO 17912 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:16:54.446+07:00  INFO 17912 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:16:54.448+07:00  INFO 17912 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:16:54.449+07:00  INFO 17912 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:16:54.641+07:00  INFO 17912 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.679 seconds (process running for 3.034)
2025-03-03T09:17:00.107+07:00 ERROR 17912 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.jdbc.UncategorizedSQLException: PreparedStatementCallback; uncategorized SQLException for SQL [SELECT JOB_EXECUTION_ID, PARAMETER_NAME, PARAMETER_TYPE, PARAMETER_VALUE, IDENTIFYING
FROM BATCH_JOB_EXECUTION_PARAMS
WHERE JOB_EXECUTION_ID = ?
]; SQL state [S0002]; error code [208]; Invalid object name 'BATCH_JOB_EXECUTION_PARAMS'.
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:783) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:799) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.getJobParameters(JdbcJobExecutionDao.java:474) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao$JobExecutionRowMapper.mapRow(JdbcJobExecutionDao.java:500) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao$JobExecutionRowMapper.mapRow(JdbcJobExecutionDao.java:485) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:733) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.getLastJobExecution(JdbcJobExecutionDao.java:342) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:303) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy80.getLastJobExecution(Unknown Source) ~[na:na]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleClearCustomerData(BatchScheduler.java:50) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'BATCH_JOB_EXECUTION_PARAMS'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:675) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:594) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:509) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	... 44 common frames omitted

2025-03-03T09:17:00.117+07:00 ERROR 17912 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.jdbc.UncategorizedSQLException: PreparedStatementCallback; uncategorized SQLException for SQL [SELECT JOB_EXECUTION_ID, PARAMETER_NAME, PARAMETER_TYPE, PARAMETER_VALUE, IDENTIFYING
FROM BATCH_JOB_EXECUTION_PARAMS
WHERE JOB_EXECUTION_ID = ?
]; SQL state [S0002]; error code [208]; Invalid object name 'BATCH_JOB_EXECUTION_PARAMS'.
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:783) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:799) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.getJobParameters(JdbcJobExecutionDao.java:474) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao$JobExecutionRowMapper.mapRow(JdbcJobExecutionDao.java:500) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao$JobExecutionRowMapper.mapRow(JdbcJobExecutionDao.java:485) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:733) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.getLastJobExecution(JdbcJobExecutionDao.java:342) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:303) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy80.getLastJobExecution(Unknown Source) ~[na:na]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleMarkExpiredTransaction(BatchScheduler.java:56) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'BATCH_JOB_EXECUTION_PARAMS'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:675) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:594) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:509) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	... 44 common frames omitted

2025-03-03T09:18:00.049+07:00 ERROR 17912 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.jdbc.UncategorizedSQLException: PreparedStatementCallback; uncategorized SQLException for SQL [SELECT JOB_EXECUTION_ID, PARAMETER_NAME, PARAMETER_TYPE, PARAMETER_VALUE, IDENTIFYING
FROM BATCH_JOB_EXECUTION_PARAMS
WHERE JOB_EXECUTION_ID = ?
]; SQL state [S0002]; error code [208]; Invalid object name 'BATCH_JOB_EXECUTION_PARAMS'.
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:783) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:799) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.getJobParameters(JdbcJobExecutionDao.java:474) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao$JobExecutionRowMapper.mapRow(JdbcJobExecutionDao.java:500) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao$JobExecutionRowMapper.mapRow(JdbcJobExecutionDao.java:485) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:733) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.getLastJobExecution(JdbcJobExecutionDao.java:342) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:303) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy80.getLastJobExecution(Unknown Source) ~[na:na]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleMarkExpiredTransaction(BatchScheduler.java:56) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'BATCH_JOB_EXECUTION_PARAMS'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:675) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:594) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:509) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	... 44 common frames omitted

2025-03-03T09:18:00.066+07:00 ERROR 17912 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.jdbc.UncategorizedSQLException: PreparedStatementCallback; uncategorized SQLException for SQL [SELECT JOB_EXECUTION_ID, PARAMETER_NAME, PARAMETER_TYPE, PARAMETER_VALUE, IDENTIFYING
FROM BATCH_JOB_EXECUTION_PARAMS
WHERE JOB_EXECUTION_ID = ?
]; SQL state [S0002]; error code [208]; Invalid object name 'BATCH_JOB_EXECUTION_PARAMS'.
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:783) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:799) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.getJobParameters(JdbcJobExecutionDao.java:474) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao$JobExecutionRowMapper.mapRow(JdbcJobExecutionDao.java:500) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao$JobExecutionRowMapper.mapRow(JdbcJobExecutionDao.java:485) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:733) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.getLastJobExecution(JdbcJobExecutionDao.java:342) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:303) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy80.getLastJobExecution(Unknown Source) ~[na:na]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleClearCustomerData(BatchScheduler.java:50) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'BATCH_JOB_EXECUTION_PARAMS'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:675) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:594) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:509) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	... 44 common frames omitted

2025-03-03T09:19:00.032+07:00 ERROR 17912 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.jdbc.UncategorizedSQLException: PreparedStatementCallback; uncategorized SQLException for SQL [SELECT JOB_INSTANCE_ID, JOB_NAME
FROM BATCH_JOB_INSTANCE
WHERE JOB_NAME = ?
 and JOB_KEY = ?]; SQL state [S0002]; error code [208]; Invalid object name 'BATCH_JOB_INSTANCE'.
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.getJobInstance(JdbcJobInstanceDao.java:183) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:299) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy80.getLastJobExecution(Unknown Source) ~[na:na]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleClearCustomerData(BatchScheduler.java:50) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'BATCH_JOB_INSTANCE'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:675) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:594) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:509) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	... 33 common frames omitted

2025-03-03T09:19:00.047+07:00 ERROR 17912 --- [ipassportbatch] [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.jdbc.UncategorizedSQLException: PreparedStatementCallback; uncategorized SQLException for SQL [SELECT JOB_INSTANCE_ID, JOB_NAME
FROM BATCH_JOB_INSTANCE
WHERE JOB_NAME = ?
 and JOB_KEY = ?]; SQL state [S0002]; error code [208]; Invalid object name 'BATCH_JOB_INSTANCE'.
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.getJobInstance(JdbcJobInstanceDao.java:183) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:299) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy80.getLastJobExecution(Unknown Source) ~[na:na]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-5.2.1.jar:5.2.1]
	at com.krungsri.ipassportbatch.scheduler.BatchScheduler.scheduleMarkExpiredTransaction(BatchScheduler.java:56) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.14.4.jar:1.14.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.3.jar:6.2.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'BATCH_JOB_INSTANCE'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:270) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1735) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:675) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:594) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7745) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:4391) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:276) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:246) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:509) ~[mssql-jdbc-12.8.1.jre11.jar:na]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.2.3.jar:6.2.3]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.2.3.jar:6.2.3]
	... 33 common frames omitted

2025-03-03T09:19:54.493+07:00  INFO 17912 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:19:54.498+07:00  INFO 17912 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T09:19:54.506+07:00  INFO 17912 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T09:19:56.812+07:00  INFO 31320 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 31320 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T09:19:56.814+07:00  INFO 31320 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T09:19:57.176+07:00  INFO 31320 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T09:19:57.180+07:00  INFO 31320 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 11 ms.
2025-03-03T09:19:57.305+07:00  INFO 31320 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T09:19:57.320+07:00  INFO 31320 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.
2025-03-03T09:19:57.712+07:00  INFO 31320 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T09:19:58.009+07:00  INFO 31320 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 681107c1-6e30-4ed4-9574-7486425075a8
2025-03-03T09:19:58.011+07:00  INFO 31320 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T09:19:58.071+07:00  INFO 31320 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T09:19:58.103+07:00  INFO 31320 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T09:19:58.123+07:00  INFO 31320 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T09:19:58.377+07:00  INFO 31320 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T09:19:58.502+07:00  INFO 31320 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T09:19:58.775+07:00  INFO 31320 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T09:19:58.778+07:00  INFO 31320 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:19:58.830+07:00  INFO 31320 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T09:19:58.870+07:00  INFO 31320 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T09:19:58.907+07:00  INFO 31320 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:19:58.910+07:00  INFO 31320 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:19:58.917+07:00  INFO 31320 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:19:58.919+07:00  INFO 31320 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:19:58.920+07:00  INFO 31320 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:19:58.923+07:00  INFO 31320 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:19:58.924+07:00  INFO 31320 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T09:19:59.114+07:00  INFO 31320 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.779 seconds (process running for 3.135)
2025-03-03T09:20:00.107+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T09:20:00.170+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T09:20:00.198+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T09:20:00.205+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T09:20:00.211+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 41ms
2025-03-03T09:20:00.257+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T09:20:00.268+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T09:20:00.276+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T09:20:00.281+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 22ms
2025-03-03T09:20:00.301+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 180ms
2025-03-03T09:20:00.318+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] launched with the following parameters: [{}]
2025-03-03T09:20:00.336+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [markExpireStep]
2025-03-03T09:20:00.344+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : Updating Expire IPRO_TX_TRANSACTION table...
2025-03-03T09:20:00.352+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : IPRO_TX_TRANSACTION Update success.
2025-03-03T09:20:00.357+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [markExpireStep] executed in 21ms
2025-03-03T09:20:00.375+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 50ms
2025-03-03T09:21:00.085+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T09:21:00.134+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T09:21:00.152+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T09:21:00.158+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T09:21:00.164+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 29ms
2025-03-03T09:21:00.192+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T09:21:00.200+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T09:21:00.207+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T09:21:00.212+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 19ms
2025-03-03T09:21:00.228+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 138ms
2025-03-03T09:21:00.263+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] launched with the following parameters: [{}]
2025-03-03T09:21:00.280+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [markExpireStep]
2025-03-03T09:21:00.305+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : Updating Expire IPRO_TX_TRANSACTION table...
2025-03-03T09:21:00.313+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : IPRO_TX_TRANSACTION Update success.
2025-03-03T09:21:00.320+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [markExpireStep] executed in 38ms
2025-03-03T09:21:00.332+07:00  INFO 31320 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 65ms
2025-03-03T09:21:20.723+07:00  INFO 31320 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T09:21:20.724+07:00  INFO 31320 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T09:21:20.728+07:00  INFO 31320 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:07:24.149+07:00  INFO 26808 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 26808 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:07:24.150+07:00  INFO 26808 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:07:24.504+07:00  INFO 26808 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:07:24.506+07:00  INFO 26808 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 7 ms.
2025-03-03T10:07:24.628+07:00  INFO 26808 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:07:24.645+07:00  INFO 26808 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
2025-03-03T10:07:25.038+07:00  INFO 26808 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:07:25.324+07:00  INFO 26808 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: fbfa82d8-452e-4fc8-be83-4c37cc3f5c97
2025-03-03T10:07:25.325+07:00  INFO 26808 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:07:25.387+07:00  INFO 26808 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:07:25.454+07:00  INFO 26808 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:07:25.491+07:00  INFO 26808 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:07:25.737+07:00  INFO 26808 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:07:25.863+07:00  INFO 26808 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:07:26.138+07:00  INFO 26808 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:07:26.143+07:00  INFO 26808 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:07:26.192+07:00  INFO 26808 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:07:26.238+07:00  INFO 26808 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:07:26.273+07:00  INFO 26808 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:07:26.276+07:00  INFO 26808 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:07:26.282+07:00  INFO 26808 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:07:26.285+07:00  INFO 26808 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:07:26.286+07:00  INFO 26808 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:07:26.288+07:00  WARN 26808 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setDataRetention' parameter 0: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 1: Error creating bean with name 'archiveDatabaseStep' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'archiveDatabaseStep' parameter 2: No qualifying bean of type 'com.krungsri.ipassportbatch.tasklet.ArchiveDatabaseTasklet' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-03-03T10:07:26.288+07:00  INFO 26808 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:07:26.292+07:00  INFO 26808 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:07:26.296+07:00  INFO 26808 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:07:26.303+07:00  INFO 26808 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T10:07:26.324+07:00 ERROR 26808 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of method archiveDatabaseStep in com.krungsri.ipassportbatch.job.DataRetentionJob required a bean of type 'com.krungsri.ipassportbatch.tasklet.ArchiveDatabaseTasklet' that could not be found.


Action:

Consider defining a bean of type 'com.krungsri.ipassportbatch.tasklet.ArchiveDatabaseTasklet' in your configuration.

2025-03-03T10:08:08.470+07:00  INFO 19044 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 19044 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:08:08.472+07:00  INFO 19044 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:08:08.803+07:00  INFO 19044 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:08:08.804+07:00  INFO 19044 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 7 ms.
2025-03-03T10:08:08.936+07:00  INFO 19044 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:08:08.962+07:00  INFO 19044 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2025-03-03T10:08:09.384+07:00  INFO 19044 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:08:09.678+07:00  INFO 19044 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 03c6263c-db72-4734-b6d3-7569b5914cc5
2025-03-03T10:08:09.679+07:00  INFO 19044 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:08:09.740+07:00  INFO 19044 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:08:09.769+07:00  INFO 19044 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:08:09.792+07:00  INFO 19044 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:08:10.057+07:00  INFO 19044 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:08:10.175+07:00  INFO 19044 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:08:10.463+07:00  INFO 19044 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:08:10.466+07:00  INFO 19044 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:08:10.522+07:00  INFO 19044 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:08:10.567+07:00  INFO 19044 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:08:10.596+07:00  INFO 19044 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:10.603+07:00  INFO 19044 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:10.612+07:00  INFO 19044 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:10.615+07:00  INFO 19044 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:10.616+07:00  INFO 19044 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:10.619+07:00  INFO 19044 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:10.620+07:00  INFO 19044 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:10.622+07:00  INFO 19044 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:10.623+07:00  WARN 19044 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setDataRetention' parameter 0: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 4: Error creating bean with name 'clearTransaction' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'clearTransaction' parameter 2: No qualifying bean of type 'com.krungsri.ipassportbatch.tasklet.ClearTransactionTasklet' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-03-03T10:08:10.624+07:00  INFO 19044 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:08:10.628+07:00  INFO 19044 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:08:10.634+07:00  INFO 19044 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:08:10.642+07:00  INFO 19044 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T10:08:10.667+07:00 ERROR 19044 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of method clearTransaction in com.krungsri.ipassportbatch.job.DataRetentionJob required a bean of type 'com.krungsri.ipassportbatch.tasklet.ClearTransactionTasklet' that could not be found.


Action:

Consider defining a bean of type 'com.krungsri.ipassportbatch.tasklet.ClearTransactionTasklet' in your configuration.

2025-03-03T10:08:27.714+07:00  INFO 12376 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 12376 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:08:27.715+07:00  INFO 12376 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:08:28.081+07:00  INFO 12376 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:08:28.083+07:00  INFO 12376 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 9 ms.
2025-03-03T10:08:28.208+07:00  INFO 12376 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:08:28.223+07:00  INFO 12376 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.
2025-03-03T10:08:28.607+07:00  INFO 12376 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:08:28.891+07:00  INFO 12376 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 99c3eb12-85ca-46b1-99cc-c030ea34cebf
2025-03-03T10:08:28.892+07:00  INFO 12376 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:08:28.966+07:00  INFO 12376 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:08:29.006+07:00  INFO 12376 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:08:29.041+07:00  INFO 12376 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:08:29.291+07:00  INFO 12376 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:08:29.356+07:00  INFO 12376 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:08:29.644+07:00  INFO 12376 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:08:29.650+07:00  INFO 12376 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:08:29.695+07:00  INFO 12376 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:08:29.733+07:00  INFO 12376 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:08:29.776+07:00  INFO 12376 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:29.779+07:00  INFO 12376 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:29.787+07:00  INFO 12376 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:29.791+07:00  INFO 12376 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:29.792+07:00  INFO 12376 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:29.794+07:00  INFO 12376 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:29.796+07:00  INFO 12376 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:29.798+07:00  INFO 12376 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:29.801+07:00  INFO 12376 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:29.803+07:00  INFO 12376 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:08:29.986+07:00  INFO 12376 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.68 seconds (process running for 3.022)
2025-03-03T10:09:00.243+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T10:09:00.381+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T10:09:00.408+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T10:09:00.414+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T10:09:00.439+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 56ms
2025-03-03T10:09:00.601+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T10:09:00.624+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T10:09:00.632+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T10:09:00.636+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 35ms
2025-03-03T10:09:00.709+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 414ms
2025-03-03T10:09:00.773+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] launched with the following parameters: [{}]
2025-03-03T10:09:00.940+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [archiveDatabaseStep]
2025-03-03T10:09:00.954+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database...
2025-03-03T10:09:00.963+07:00 ERROR 12376 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database unsuccess org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557)
2025-03-03T10:09:01.070+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [archiveDatabaseStep] executed in 129ms
2025-03-03T10:09:01.134+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearActivity]
2025-03-03T10:09:01.152+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : Clearing IPRO_TX_ACTIVITY_LOG table...
2025-03-03T10:09:01.154+07:00 ERROR 12376 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : Clearing IPRO_TX_ACTIVITY_LOG table unsuccess org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557)
2025-03-03T10:09:01.160+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearActivity] executed in 26ms
2025-03-03T10:09:01.194+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearAuditTrail]
2025-03-03T10:09:01.205+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing IPRO_TX_AUDIT_TRAIL table...
2025-03-03T10:09:01.208+07:00 ERROR 12376 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing IPRO_TX_AUDIT_TRAIL table unsuccess org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557)
2025-03-03T10:09:01.213+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearAuditTrail] executed in 18ms
2025-03-03T10:09:01.263+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearTransaction]
2025-03-03T10:09:01.283+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : Clearing IPRO_TX_TRANSACTION table...
2025-03-03T10:09:01.285+07:00 ERROR 12376 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : Clearing IPRO_TX_TRANSACTION table unsuccess org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557)
2025-03-03T10:09:01.303+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearTransaction] executed in 39ms
2025-03-03T10:09:01.349+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 556ms
2025-03-03T10:09:01.400+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] launched with the following parameters: [{}]
2025-03-03T10:09:01.434+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [markExpireStep]
2025-03-03T10:09:01.449+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : Updating Expire IPRO_TX_TRANSACTION table...
2025-03-03T10:09:01.459+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : IPRO_TX_TRANSACTION Update success.
2025-03-03T10:09:01.472+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [markExpireStep] executed in 37ms
2025-03-03T10:09:01.509+07:00  INFO 12376 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 94ms
2025-03-03T10:09:56.308+07:00  INFO 12376 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:09:56.310+07:00  INFO 12376 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:09:56.314+07:00  INFO 12376 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:10:10.595+07:00  INFO 26388 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 26388 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:10:10.597+07:00  INFO 26388 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:10:10.945+07:00  INFO 26388 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:10:10.946+07:00  INFO 26388 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 10 ms.
2025-03-03T10:10:11.075+07:00  INFO 26388 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:10:11.097+07:00  INFO 26388 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 JPA repository interfaces.
2025-03-03T10:10:11.494+07:00  INFO 26388 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:10:11.781+07:00  INFO 26388 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 33a96a81-b4cf-4557-ba68-3ff1ec9e1cfe
2025-03-03T10:10:11.782+07:00  INFO 26388 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:10:11.846+07:00  INFO 26388 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:10:11.891+07:00  INFO 26388 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:10:11.935+07:00  INFO 26388 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:10:12.176+07:00  INFO 26388 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:10:12.303+07:00  INFO 26388 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:10:12.584+07:00  INFO 26388 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:10:12.588+07:00  INFO 26388 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:10:12.642+07:00  INFO 26388 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:10:12.681+07:00  INFO 26388 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:10:12.715+07:00  INFO 26388 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:10:12.720+07:00  INFO 26388 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:10:12.727+07:00  INFO 26388 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:10:12.732+07:00  INFO 26388 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:10:12.733+07:00  INFO 26388 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:10:12.735+07:00  INFO 26388 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:10:12.738+07:00  INFO 26388 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:10:12.740+07:00  INFO 26388 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:10:12.742+07:00  INFO 26388 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:10:12.745+07:00  INFO 26388 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:10:12.935+07:00  INFO 26388 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.788 seconds (process running for 3.119)
2025-03-03T10:11:00.195+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T10:11:00.252+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T10:11:00.276+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T10:11:00.284+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T10:11:00.289+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 36ms
2025-03-03T10:11:00.317+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T10:11:00.324+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T10:11:00.330+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T10:11:00.334+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 17ms
2025-03-03T10:11:00.348+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 140ms
2025-03-03T10:11:00.364+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] launched with the following parameters: [{}]
2025-03-03T10:11:00.377+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [archiveDatabaseStep]
2025-03-03T10:11:00.382+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database...
2025-03-03T10:11:00.393+07:00 ERROR 26388 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database unsuccess StatementCallback; uncategorized SQLException for SQL [EXEC sp_data_retention]; SQL state [S0002]; error code [208]; Invalid object name 'BackupConfig'.
2025-03-03T10:11:00.398+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [archiveDatabaseStep] executed in 20ms
2025-03-03T10:11:00.421+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearActivity]
2025-03-03T10:11:00.426+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : Clearing IPRO_TX_ACTIVITY_LOG table...
2025-03-03T10:11:00.428+07:00 ERROR 26388 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : Clearing IPRO_TX_ACTIVITY_LOG table unsuccess org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557)
2025-03-03T10:11:00.432+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearActivity] executed in 11ms
2025-03-03T10:11:00.451+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearAuditTrail]
2025-03-03T10:11:00.456+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing IPRO_TX_AUDIT_TRAIL table...
2025-03-03T10:11:00.457+07:00 ERROR 26388 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing IPRO_TX_AUDIT_TRAIL table unsuccess org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557)
2025-03-03T10:11:00.460+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearAuditTrail] executed in 9ms
2025-03-03T10:11:00.476+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearTransaction]
2025-03-03T10:11:00.482+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : Clearing IPRO_TX_TRANSACTION table...
2025-03-03T10:11:00.483+07:00 ERROR 26388 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : Clearing IPRO_TX_TRANSACTION table unsuccess org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1557)
2025-03-03T10:11:00.486+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearTransaction] executed in 10ms
2025-03-03T10:11:00.497+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 129ms
2025-03-03T10:11:00.509+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] launched with the following parameters: [{}]
2025-03-03T10:11:00.524+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [markExpireStep]
2025-03-03T10:11:00.528+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : Updating Expire IPRO_TX_TRANSACTION table...
2025-03-03T10:11:00.536+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : IPRO_TX_TRANSACTION Update success.
2025-03-03T10:11:00.540+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [markExpireStep] executed in 16ms
2025-03-03T10:11:00.548+07:00  INFO 26388 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 36ms
2025-03-03T10:11:23.077+07:00  INFO 26388 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:11:23.079+07:00  INFO 26388 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:11:23.083+07:00  INFO 26388 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:14:59.073+07:00  INFO 5552 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 5552 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:14:59.074+07:00  INFO 5552 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:14:59.415+07:00  INFO 5552 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:14:59.417+07:00  INFO 5552 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 7 ms.
2025-03-03T10:14:59.540+07:00  INFO 5552 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:14:59.556+07:00  INFO 5552 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
2025-03-03T10:14:59.897+07:00  INFO 5552 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:15:00.187+07:00  INFO 5552 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: e3e36a63-2035-43af-a7e8-d729a0afdfe3
2025-03-03T10:15:00.188+07:00  INFO 5552 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:15:00.254+07:00  INFO 5552 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:15:00.330+07:00  INFO 5552 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:15:00.383+07:00  INFO 5552 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:15:00.641+07:00  INFO 5552 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:15:00.746+07:00  INFO 5552 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:15:01.016+07:00  INFO 5552 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:15:01.020+07:00  INFO 5552 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:15:01.071+07:00  INFO 5552 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:15:01.115+07:00  INFO 5552 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:15:01.151+07:00  INFO 5552 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:15:01.155+07:00  INFO 5552 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:15:01.162+07:00  INFO 5552 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:15:01.164+07:00  INFO 5552 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:15:01.166+07:00  INFO 5552 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:15:01.171+07:00  INFO 5552 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:15:01.174+07:00  INFO 5552 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:15:01.177+07:00  INFO 5552 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:15:01.181+07:00  INFO 5552 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:15:01.184+07:00  INFO 5552 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:15:01.375+07:00  INFO 5552 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.759 seconds (process running for 3.087)
2025-03-03T10:16:00.168+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] launched with the following parameters: [{}]
2025-03-03T10:16:00.223+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [archiveDatabaseStep]
2025-03-03T10:16:00.247+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database...
2025-03-03T10:16:00.271+07:00 ERROR 5552 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database unsuccess StatementCallback; uncategorized SQLException for SQL [EXEC sp_data_retention]; SQL state [S0001]; error code [15281]; SQL Server blocked access to procedure 'sys.xp_cmdshell' of component 'xp_cmdshell' because this component is turned off as part of the security configuration for this server. A system administrator can enable the use of 'xp_cmdshell' by using sp_configure. For more information about enabling 'xp_cmdshell', search for 'xp_cmdshell' in SQL Server Books Online.
2025-03-03T10:16:00.282+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [archiveDatabaseStep] executed in 58ms
2025-03-03T10:16:00.318+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearActivity]
2025-03-03T10:16:00.322+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : Clearing IPRO_TX_ACTIVITY_LOG table...
2025-03-03T10:16:00.327+07:00 ERROR 5552 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : Clearing IPRO_TX_ACTIVITY_LOG table unsuccess StatementCallback; uncategorized SQLException for SQL [EXEC sp_activity_log]; SQL state [S0062]; error code [2812]; Could not find stored procedure 'sp_activity_log'.
2025-03-03T10:16:00.331+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearActivity] executed in 13ms
2025-03-03T10:16:00.353+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearAuditTrail]
2025-03-03T10:16:00.359+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing IPRO_TX_AUDIT_TRAIL table...
2025-03-03T10:16:00.360+07:00 ERROR 5552 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing IPRO_TX_AUDIT_TRAIL table unsuccess StatementCallback; uncategorized SQLException for SQL [EXEC sp_audit_trail]; SQL state [S0062]; error code [2812]; Could not find stored procedure 'sp_audit_trail'.
2025-03-03T10:16:00.363+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearAuditTrail] executed in 9ms
2025-03-03T10:16:00.383+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearTransaction]
2025-03-03T10:16:00.390+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : Clearing IPRO_TX_TRANSACTION table...
2025-03-03T10:16:00.392+07:00 ERROR 5552 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : Clearing IPRO_TX_TRANSACTION table unsuccess StatementCallback; uncategorized SQLException for SQL [EXEC sp_transaction_log]; SQL state [S0062]; error code [2812]; Could not find stored procedure 'sp_transaction_log'.
2025-03-03T10:16:00.395+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearTransaction] executed in 11ms
2025-03-03T10:16:00.407+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 229ms
2025-03-03T10:16:00.423+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T10:16:00.437+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T10:16:00.441+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T10:16:00.447+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T10:16:00.450+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 12ms
2025-03-03T10:16:00.464+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T10:16:00.471+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T10:16:00.477+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T10:16:00.480+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 15ms
2025-03-03T10:16:00.489+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 61ms
2025-03-03T10:16:00.509+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] launched with the following parameters: [{}]
2025-03-03T10:16:00.521+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [markExpireStep]
2025-03-03T10:16:00.531+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : Updating Expire IPRO_TX_TRANSACTION table...
2025-03-03T10:16:00.537+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : IPRO_TX_TRANSACTION Update success.
2025-03-03T10:16:00.540+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [markExpireStep] executed in 19ms
2025-03-03T10:16:00.550+07:00  INFO 5552 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 38ms
2025-03-03T10:16:41.314+07:00  INFO 5552 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:16:41.319+07:00  INFO 5552 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:16:41.325+07:00  INFO 5552 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:40:40.522+07:00  INFO 23452 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 23452 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:40:40.524+07:00  INFO 23452 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:40:40.887+07:00  INFO 23452 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:40:40.889+07:00  INFO 23452 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 8 ms.
2025-03-03T10:40:41.012+07:00  INFO 23452 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:40:41.025+07:00  INFO 23452 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-03-03T10:40:41.434+07:00  INFO 23452 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:40:41.723+07:00  INFO 23452 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: e4031620-8bdd-4c06-b493-99c91a72c6bf
2025-03-03T10:40:41.725+07:00  INFO 23452 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:40:41.793+07:00  INFO 23452 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:40:41.865+07:00  INFO 23452 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:40:41.901+07:00  INFO 23452 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:40:42.166+07:00  INFO 23452 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:40:42.283+07:00  INFO 23452 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:40:42.573+07:00  INFO 23452 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:40:42.577+07:00  INFO 23452 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:40:42.624+07:00  INFO 23452 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:40:42.663+07:00  INFO 23452 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:40:42.698+07:00  INFO 23452 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:40:42.702+07:00  INFO 23452 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:40:42.712+07:00  INFO 23452 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:40:42.714+07:00  INFO 23452 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:40:42.714+07:00  INFO 23452 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:40:42.717+07:00  INFO 23452 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:40:42.718+07:00  INFO 23452 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:40:42.720+07:00  INFO 23452 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:40:42.723+07:00  INFO 23452 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:40:42.724+07:00  INFO 23452 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:40:42.910+07:00  INFO 23452 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.824 seconds (process running for 3.156)
2025-03-03T10:40:45.997+07:00  INFO 23452 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:40:45.999+07:00  INFO 23452 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:40:46.003+07:00  INFO 23452 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:43:37.821+07:00  INFO 23956 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 23956 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:43:37.823+07:00  INFO 23956 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:43:38.169+07:00  INFO 23956 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:43:38.172+07:00  INFO 23956 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 9 ms.
2025-03-03T10:43:38.325+07:00  INFO 23956 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:43:38.339+07:00  INFO 23956 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.
2025-03-03T10:43:38.727+07:00  INFO 23956 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:43:39.022+07:00  INFO 23956 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 5ee06001-86d5-4ce2-9e1a-074450f9a503
2025-03-03T10:43:39.024+07:00  INFO 23956 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:43:39.113+07:00  INFO 23956 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:43:39.152+07:00  INFO 23956 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:43:39.188+07:00  INFO 23956 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:43:39.436+07:00  INFO 23956 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:43:39.557+07:00  INFO 23956 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:43:39.824+07:00  INFO 23956 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:43:39.827+07:00  INFO 23956 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:43:39.872+07:00  INFO 23956 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:43:39.905+07:00  INFO 23956 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:43:39.933+07:00  INFO 23956 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:43:39.937+07:00  INFO 23956 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:43:39.945+07:00  INFO 23956 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:43:39.949+07:00  INFO 23956 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:43:39.950+07:00  INFO 23956 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:43:39.953+07:00  INFO 23956 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:43:39.957+07:00  INFO 23956 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:43:39.959+07:00  INFO 23956 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:43:39.962+07:00  INFO 23956 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:43:39.964+07:00  WARN 23956 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setDataRetention' parameter 0: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 5: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
2025-03-03T10:43:39.965+07:00  INFO 23956 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:43:39.970+07:00  INFO 23956 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:43:39.976+07:00  INFO 23956 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:43:39.981+07:00  INFO 23956 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T10:43:39.997+07:00 ERROR 23956 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 5 of method dataRetention in com.krungsri.ipassportbatch.job.DataRetentionJob required a single bean, but 7 were found:
	- clearPassportIdStep: defined by method 'clearPassportIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- clearThaiIdStep: defined by method 'clearThaiIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- archiveDatabaseStep: defined by method 'archiveDatabaseStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearActivityStep: defined by method 'clearActivityStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearAuditTrailStep: defined by method 'clearAuditTrailStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearTransactionStep: defined by method 'clearTransactionStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- markExpireStep: defined by method 'markExpireStep' in class path resource [com/krungsri/ipassportbatch/job/MarkExpireTransactionJob.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2025-03-03T10:44:17.907+07:00  INFO 9300 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 9300 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:44:17.909+07:00  INFO 9300 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:44:18.271+07:00  INFO 9300 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:44:18.273+07:00  INFO 9300 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 8 ms.
2025-03-03T10:44:18.398+07:00  INFO 9300 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:44:18.415+07:00  INFO 9300 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
2025-03-03T10:44:18.820+07:00  INFO 9300 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:44:19.125+07:00  INFO 9300 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: aa5b1c6a-c430-4698-964d-866f33562737
2025-03-03T10:44:19.127+07:00  INFO 9300 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:44:19.194+07:00  INFO 9300 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:44:19.227+07:00  INFO 9300 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:44:19.265+07:00  INFO 9300 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:44:19.512+07:00  INFO 9300 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:44:19.623+07:00  INFO 9300 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:44:19.905+07:00  INFO 9300 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:44:19.908+07:00  INFO 9300 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:44:19.954+07:00  INFO 9300 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:44:19.994+07:00  INFO 9300 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:44:20.025+07:00  INFO 9300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:44:20.028+07:00  INFO 9300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:44:20.034+07:00  INFO 9300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:44:20.037+07:00  INFO 9300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:44:20.038+07:00  INFO 9300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:44:20.040+07:00  INFO 9300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:44:20.042+07:00  INFO 9300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:44:20.044+07:00  INFO 9300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:44:20.045+07:00  INFO 9300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:44:20.049+07:00  INFO 9300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:44:20.051+07:00  INFO 9300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:44:20.251+07:00  INFO 9300 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.775 seconds (process running for 3.104)
2025-03-03T10:45:00.184+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] launched with the following parameters: [{}]
2025-03-03T10:45:00.250+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [markExpireStep]
2025-03-03T10:45:00.273+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : Updating Expire IPRO_TX_TRANSACTION table...
2025-03-03T10:45:00.281+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : IPRO_TX_TRANSACTION Update success.
2025-03-03T10:45:00.286+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [markExpireStep] executed in 36ms
2025-03-03T10:45:00.311+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 117ms
2025-03-03T10:45:00.337+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T10:45:00.353+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T10:45:00.359+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T10:45:00.364+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T10:45:00.368+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 13ms
2025-03-03T10:45:00.384+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T10:45:00.389+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T10:45:00.395+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T10:45:00.398+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 14ms
2025-03-03T10:45:00.407+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 67ms
2025-03-03T10:45:00.421+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] launched with the following parameters: [{}]
2025-03-03T10:45:00.433+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [archiveDatabaseStep]
2025-03-03T10:45:00.438+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database...
2025-03-03T10:45:00.460+07:00 ERROR 9300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database unsuccess StatementCallback; uncategorized SQLException for SQL [EXEC sp_data_retention]; SQL state [S0000]; error code [3021]; Cannot perform a backup or restore operation within a transaction.
2025-03-03T10:45:00.464+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [archiveDatabaseStep] executed in 30ms
2025-03-03T10:45:00.480+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearActivityStep]
2025-03-03T10:45:00.485+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : Clearing IPRO_TX_ACTIVITY_LOG table...
2025-03-03T10:45:00.492+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : IPRO_TX_ACTIVITY_LOG cleared.
2025-03-03T10:45:00.496+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearActivityStep] executed in 16ms
2025-03-03T10:45:00.512+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearAuditTrailStep]
2025-03-03T10:45:00.516+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing IPRO_TX_AUDIT_TRAIL table...
2025-03-03T10:45:00.523+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : IPRO_TX_AUDIT_TRAIL cleared.
2025-03-03T10:45:00.527+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearAuditTrailStep] executed in 14ms
2025-03-03T10:45:00.543+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearTransactionStep]
2025-03-03T10:45:00.548+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : Clearing IPRO_TX_TRANSACTION table...
2025-03-03T10:45:00.552+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : IPRO_TX_TRANSACTION cleared.
2025-03-03T10:45:00.555+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearTransactionStep] executed in 12ms
2025-03-03T10:45:00.571+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearBatchStep]
2025-03-03T10:45:00.575+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing BATCH_JOB & BATCH_STEP table...
2025-03-03T10:45:00.598+07:00 ERROR 9300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing BATCH_JOB & BATCH_STEP table unsuccess StatementCallback; SQL [EXEC sp_clear_batch_table]; The DELETE statement conflicted with the REFERENCE constraint "JOB_EXEC_STEP_FK". The conflict occurred in database "IPASSPORTDDB", table "dbo.BATCH_STEP_EXECUTION", column 'JOB_EXECUTION_ID'.
2025-03-03T10:45:00.602+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearBatchStep] executed in 31ms
2025-03-03T10:45:00.613+07:00  INFO 9300 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 188ms
2025-03-03T10:45:21.515+07:00  INFO 9300 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:45:21.517+07:00  INFO 9300 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:45:21.522+07:00  INFO 9300 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:49:13.213+07:00  INFO 15980 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 15980 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:49:13.215+07:00  INFO 15980 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:49:13.576+07:00  INFO 15980 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:49:13.577+07:00  INFO 15980 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 10 ms.
2025-03-03T10:49:13.706+07:00  INFO 15980 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:49:13.722+07:00  INFO 15980 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
2025-03-03T10:49:14.130+07:00  INFO 15980 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:49:14.436+07:00  INFO 15980 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: c56f87d5-8184-4c2d-94f6-cbdb641aae8e
2025-03-03T10:49:14.437+07:00  INFO 15980 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:49:14.503+07:00  INFO 15980 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:49:14.539+07:00  INFO 15980 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:49:14.564+07:00  INFO 15980 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:49:14.811+07:00  INFO 15980 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:49:14.935+07:00  INFO 15980 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:49:15.217+07:00  INFO 15980 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:49:15.222+07:00  INFO 15980 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:49:15.281+07:00  INFO 15980 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:49:15.331+07:00  INFO 15980 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:49:15.380+07:00  INFO 15980 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:49:15.385+07:00  INFO 15980 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:49:15.397+07:00  INFO 15980 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:49:15.401+07:00  INFO 15980 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:49:15.402+07:00  INFO 15980 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:49:15.405+07:00  INFO 15980 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:49:15.407+07:00  INFO 15980 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:49:15.408+07:00  INFO 15980 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:49:15.412+07:00  INFO 15980 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:49:15.414+07:00  INFO 15980 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:49:15.417+07:00  INFO 15980 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:49:15.640+07:00  INFO 15980 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.862 seconds (process running for 3.201)
2025-03-03T10:50:00.182+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T10:50:00.234+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T10:50:00.253+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T10:50:00.258+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T10:50:00.263+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 28ms
2025-03-03T10:50:00.285+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T10:50:00.290+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T10:50:00.294+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T10:50:00.297+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 12ms
2025-03-03T10:50:00.308+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 116ms
2025-03-03T10:50:00.324+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] launched with the following parameters: [{}]
2025-03-03T10:50:00.339+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [archiveDatabaseStep]
2025-03-03T10:50:00.344+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database...
2025-03-03T10:50:00.353+07:00 ERROR 15980 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database unsuccess StatementCallback; uncategorized SQLException for SQL [EXEC sp_data_retention]; SQL state [S0000]; error code [3021]; Cannot perform a backup or restore operation within a transaction.
2025-03-03T10:50:00.357+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [archiveDatabaseStep] executed in 17ms
2025-03-03T10:50:00.371+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearActivityStep]
2025-03-03T10:50:00.376+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : Clearing IPRO_TX_ACTIVITY_LOG table...
2025-03-03T10:50:00.381+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : IPRO_TX_ACTIVITY_LOG cleared.
2025-03-03T10:50:00.389+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearActivityStep] executed in 16ms
2025-03-03T10:50:00.404+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearAuditTrailStep]
2025-03-03T10:50:00.409+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing IPRO_TX_AUDIT_TRAIL table...
2025-03-03T10:50:00.414+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : IPRO_TX_AUDIT_TRAIL cleared.
2025-03-03T10:50:00.418+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearAuditTrailStep] executed in 14ms
2025-03-03T10:50:00.429+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearTransactionStep]
2025-03-03T10:50:00.435+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : Clearing IPRO_TX_TRANSACTION table...
2025-03-03T10:50:00.441+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : IPRO_TX_TRANSACTION cleared.
2025-03-03T10:50:00.445+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearTransactionStep] executed in 14ms
2025-03-03T10:50:00.464+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearBatchStep]
2025-03-03T10:50:00.473+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing BATCH_JOB & BATCH_STEP table...
2025-03-03T10:50:00.493+07:00 ERROR 15980 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing BATCH_JOB & BATCH_STEP table unsuccess StatementCallback; SQL [EXEC sp_clear_batch_table]; The DELETE statement conflicted with the REFERENCE constraint "JOB_EXEC_STEP_FK". The conflict occurred in database "IPASSPORTDDB", table "dbo.BATCH_STEP_EXECUTION", column 'JOB_EXECUTION_ID'.
2025-03-03T10:50:00.496+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearBatchStep] executed in 31ms
2025-03-03T10:50:00.505+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 177ms
2025-03-03T10:50:00.520+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] launched with the following parameters: [{}]
2025-03-03T10:50:00.529+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [markExpireStep]
2025-03-03T10:50:00.534+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : Updating Expire IPRO_TX_TRANSACTION table...
2025-03-03T10:50:00.539+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : IPRO_TX_TRANSACTION Update success.
2025-03-03T10:50:00.543+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [markExpireStep] executed in 13ms
2025-03-03T10:50:00.553+07:00  INFO 15980 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 29ms
2025-03-03T10:50:28.815+07:00  INFO 15980 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:50:28.817+07:00  INFO 15980 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:50:28.820+07:00  INFO 15980 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:52:07.169+07:00  INFO 12728 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 12728 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:52:07.171+07:00  INFO 12728 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:52:07.490+07:00  INFO 12728 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:52:07.493+07:00  INFO 12728 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 11 ms.
2025-03-03T10:52:07.618+07:00  INFO 12728 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:52:07.638+07:00  INFO 12728 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 JPA repository interfaces.
2025-03-03T10:52:08.037+07:00  INFO 12728 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:52:08.331+07:00  INFO 12728 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 91798d2b-e080-4265-b45d-7aa87c67627d
2025-03-03T10:52:08.333+07:00  INFO 12728 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:52:08.397+07:00  INFO 12728 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:52:08.434+07:00  INFO 12728 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:52:08.474+07:00  INFO 12728 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:52:08.709+07:00  INFO 12728 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:52:08.823+07:00  INFO 12728 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:52:09.115+07:00  INFO 12728 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:52:09.118+07:00  INFO 12728 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:52:09.179+07:00  INFO 12728 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:52:09.221+07:00  INFO 12728 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:52:09.251+07:00  INFO 12728 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:09.254+07:00  INFO 12728 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:09.262+07:00  INFO 12728 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:09.265+07:00  INFO 12728 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:09.266+07:00  INFO 12728 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:09.268+07:00  INFO 12728 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:09.271+07:00  INFO 12728 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:09.274+07:00  INFO 12728 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:09.276+07:00  INFO 12728 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:09.281+07:00  WARN 12728 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setDataRetention' parameter 0: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 5: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
2025-03-03T10:52:09.281+07:00  INFO 12728 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:52:09.285+07:00  INFO 12728 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:52:09.290+07:00  INFO 12728 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:52:09.298+07:00  INFO 12728 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T10:52:09.317+07:00 ERROR 12728 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 5 of method dataRetention in com.krungsri.ipassportbatch.job.DataRetentionJob required a single bean, but 7 were found:
	- clearPassportIdStep: defined by method 'clearPassportIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- clearThaiIdStep: defined by method 'clearThaiIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- archiveDatabaseStep: defined by method 'archiveDatabaseStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearActivityStep: defined by method 'clearActivityStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearAuditTrailStep: defined by method 'clearAuditTrailStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearTransactionStep: defined by method 'clearTransactionStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- markExpireStep: defined by method 'markExpireStep' in class path resource [com/krungsri/ipassportbatch/job/MarkExpireTransactionJob.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2025-03-03T10:52:52.389+07:00  INFO 26996 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplicationTests     : Starting IpassportbatchApplicationTests using Java 21.0.5 with PID 26996 (started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:52:52.390+07:00  INFO 26996 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplicationTests     : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:52:52.645+07:00  INFO 26996 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:52:52.646+07:00  INFO 26996 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 3 ms.
2025-03-03T10:52:52.742+07:00  INFO 26996 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:52:52.764+07:00  INFO 26996 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2025-03-03T10:52:53.172+07:00  INFO 26996 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:52:53.463+07:00  INFO 26996 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: ea84472d-0496-446d-b0cd-d9f841baffeb
2025-03-03T10:52:53.465+07:00  INFO 26996 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:52:53.563+07:00  INFO 26996 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:52:53.629+07:00  INFO 26996 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:52:53.682+07:00  INFO 26996 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:52:53.924+07:00  INFO 26996 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:52:54.044+07:00  INFO 26996 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:52:54.323+07:00  INFO 26996 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:52:54.329+07:00  INFO 26996 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:52:54.372+07:00  INFO 26996 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:52:54.410+07:00  INFO 26996 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:52:54.448+07:00  INFO 26996 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:54.452+07:00  INFO 26996 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:54.460+07:00  INFO 26996 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:54.463+07:00  INFO 26996 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:54.463+07:00  INFO 26996 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:54.466+07:00  INFO 26996 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:54.471+07:00  INFO 26996 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:54.474+07:00  INFO 26996 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:54.478+07:00  INFO 26996 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:52:54.482+07:00  WARN 26996 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setDataRetention' parameter 0: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 5: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
2025-03-03T10:52:54.482+07:00  INFO 26996 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:52:54.487+07:00  INFO 26996 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:52:54.490+07:00  INFO 26996 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:52:54.517+07:00  INFO 26996 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T10:52:54.544+07:00 ERROR 26996 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 5 of method dataRetention in com.krungsri.ipassportbatch.job.DataRetentionJob required a single bean, but 7 were found:
	- clearPassportIdStep: defined by method 'clearPassportIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- clearThaiIdStep: defined by method 'clearThaiIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- archiveDatabaseStep: defined by method 'archiveDatabaseStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearActivityStep: defined by method 'clearActivityStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearAuditTrailStep: defined by method 'clearAuditTrailStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearTransactionStep: defined by method 'clearTransactionStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- markExpireStep: defined by method 'markExpireStep' in class path resource [com/krungsri/ipassportbatch/job/MarkExpireTransactionJob.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2025-03-03T10:52:54.550+07:00  WARN 26996 --- [ipassportbatch] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.krungsri.ipassportbatch.IpassportbatchApplicationTests@55f6f965]

java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@57bac3f0 testClass = com.krungsri.ipassportbatch.IpassportbatchApplicationTests, locations = [], classes = [com.krungsri.ipassportbatch.IpassportbatchApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@46d59067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5dafbe45, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@49c90a9c, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@29f7cefd, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@64b0598, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@20c51c0a], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:155) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:111) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.3.jar:6.2.3]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) ~[surefire-junit-platform-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) ~[surefire-junit-platform-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) ~[surefire-junit-platform-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.2.jar:3.5.2]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setDataRetention' parameter 0: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 5: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:896) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:849) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.3.jar:3.4.3]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.3.jar:6.2.3]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.3.jar:6.2.3]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.3.jar:3.4.3]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.3.jar:3.4.3]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.3.jar:3.4.3]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.3.jar:6.2.3]
	... 75 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 5: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:888) ~[spring-beans-6.2.3.jar:6.2.3]
	... 102 common frames omitted
Caused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveNotUnique(DependencyDescriptor.java:218) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1641) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.3.jar:6.2.3]
	... 114 common frames omitted

2025-03-03T10:53:15.446+07:00  INFO 30644 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 30644 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:53:15.449+07:00  INFO 30644 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:53:15.822+07:00  INFO 30644 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:53:15.823+07:00  INFO 30644 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 8 ms.
2025-03-03T10:53:15.951+07:00  INFO 30644 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:53:15.966+07:00  INFO 30644 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.
2025-03-03T10:53:16.374+07:00  INFO 30644 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:53:16.700+07:00  INFO 30644 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 7101c7a9-b1ab-49f3-9b6d-255fdd7933d4
2025-03-03T10:53:16.702+07:00  INFO 30644 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:53:16.781+07:00  INFO 30644 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:53:16.832+07:00  INFO 30644 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:53:16.868+07:00  INFO 30644 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:53:17.141+07:00  INFO 30644 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:53:17.266+07:00  INFO 30644 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:53:17.550+07:00  INFO 30644 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:53:17.555+07:00  INFO 30644 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:53:17.614+07:00  INFO 30644 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:53:17.660+07:00  INFO 30644 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:53:17.699+07:00  INFO 30644 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:53:17.701+07:00  INFO 30644 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:53:17.709+07:00  INFO 30644 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:53:17.713+07:00  INFO 30644 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:53:17.715+07:00  INFO 30644 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:53:17.717+07:00  INFO 30644 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:53:17.721+07:00  INFO 30644 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:53:17.724+07:00  INFO 30644 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:53:17.726+07:00  INFO 30644 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:53:17.729+07:00  WARN 30644 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setDataRetention' parameter 0: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 5: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
2025-03-03T10:53:17.729+07:00  INFO 30644 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:53:17.733+07:00  INFO 30644 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:53:17.738+07:00  INFO 30644 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:53:17.744+07:00  INFO 30644 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T10:53:17.761+07:00 ERROR 30644 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 5 of method dataRetention in com.krungsri.ipassportbatch.job.DataRetentionJob required a single bean, but 7 were found:
	- clearPassportIdStep: defined by method 'clearPassportIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- clearThaiIdStep: defined by method 'clearThaiIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- archiveDatabaseStep: defined by method 'archiveDatabaseStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearActivityStep: defined by method 'clearActivityStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearAuditTrailStep: defined by method 'clearAuditTrailStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearTransactionStep: defined by method 'clearTransactionStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- markExpireStep: defined by method 'markExpireStep' in class path resource [com/krungsri/ipassportbatch/job/MarkExpireTransactionJob.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2025-03-03T10:54:35.505+07:00  INFO 20940 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 20940 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:54:35.506+07:00  INFO 20940 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:54:35.879+07:00  INFO 20940 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:54:35.881+07:00  INFO 20940 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 8 ms.
2025-03-03T10:54:36.014+07:00  INFO 20940 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:54:36.037+07:00  INFO 20940 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 JPA repository interfaces.
2025-03-03T10:54:36.427+07:00  INFO 20940 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:54:36.716+07:00  INFO 20940 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: b2175647-2c6b-423c-87e9-f725f23eb397
2025-03-03T10:54:36.717+07:00  INFO 20940 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:54:36.783+07:00  INFO 20940 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:54:36.823+07:00  INFO 20940 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:54:36.856+07:00  INFO 20940 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:54:37.086+07:00  INFO 20940 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:54:37.199+07:00  INFO 20940 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:54:37.461+07:00  INFO 20940 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:54:37.466+07:00  INFO 20940 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:54:37.514+07:00  INFO 20940 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:54:37.546+07:00  INFO 20940 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:54:37.556+07:00  WARN 20940 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setClearCustomerData' parameter 0: No qualifying bean of type 'org.springframework.batch.core.Job' available: more than one 'primary' bean found among candidates: [clearCustomerData, dataRetention, markExpireTransaction]
2025-03-03T10:54:37.557+07:00  INFO 20940 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:54:37.561+07:00  INFO 20940 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:54:37.568+07:00  INFO 20940 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:54:37.575+07:00  INFO 20940 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T10:54:37.596+07:00 ERROR 20940 --- [ipassportbatch] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setClearCustomerData' parameter 0: No qualifying bean of type 'org.springframework.batch.core.Job' available: more than one 'primary' bean found among candidates: [clearCustomerData, dataRetention, markExpireTransaction]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:896) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:849) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.3.jar:3.4.3]
	at com.krungsri.ipassportbatch.IpassportbatchApplication.main(IpassportbatchApplication.java:11) ~[classes/:na]
Caused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'org.springframework.batch.core.Job' available: more than one 'primary' bean found among candidates: [clearCustomerData, dataRetention, markExpireTransaction]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.determinePrimaryCandidate(DefaultListableBeanFactory.java:2002) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.determineAutowireCandidate(DefaultListableBeanFactory.java:1943) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1637) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:888) ~[spring-beans-6.2.3.jar:6.2.3]
	... 21 common frames omitted

2025-03-03T10:55:10.760+07:00  INFO 28940 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 28940 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:55:10.761+07:00  INFO 28940 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:55:11.121+07:00  INFO 28940 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:55:11.123+07:00  INFO 28940 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 9 ms.
2025-03-03T10:55:11.226+07:00  INFO 28940 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:55:11.247+07:00  INFO 28940 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JPA repository interfaces.
2025-03-03T10:55:11.635+07:00  INFO 28940 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:55:11.922+07:00  INFO 28940 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: d569dd28-4779-414c-ac3b-e88056847fc3
2025-03-03T10:55:11.923+07:00  INFO 28940 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:55:12.011+07:00  INFO 28940 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:55:12.072+07:00  INFO 28940 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:55:12.101+07:00  INFO 28940 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:55:12.323+07:00  INFO 28940 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:55:12.446+07:00  INFO 28940 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:55:12.705+07:00  INFO 28940 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:55:12.709+07:00  INFO 28940 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:55:12.760+07:00  INFO 28940 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:55:12.799+07:00  INFO 28940 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:55:12.811+07:00  WARN 28940 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setClearCustomerData' parameter 0: No qualifying bean of type 'org.springframework.batch.core.Job' available: more than one 'primary' bean found among candidates: [clearCustomerData, dataRetention, markExpireTransaction]
2025-03-03T10:55:12.811+07:00  INFO 28940 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:55:12.814+07:00  INFO 28940 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:55:12.818+07:00  INFO 28940 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:55:12.826+07:00  INFO 28940 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T10:55:12.843+07:00 ERROR 28940 --- [ipassportbatch] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setClearCustomerData' parameter 0: No qualifying bean of type 'org.springframework.batch.core.Job' available: more than one 'primary' bean found among candidates: [clearCustomerData, dataRetention, markExpireTransaction]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:896) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:849) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.3.jar:3.4.3]
	at com.krungsri.ipassportbatch.IpassportbatchApplication.main(IpassportbatchApplication.java:11) ~[classes/:na]
Caused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'org.springframework.batch.core.Job' available: more than one 'primary' bean found among candidates: [clearCustomerData, dataRetention, markExpireTransaction]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.determinePrimaryCandidate(DefaultListableBeanFactory.java:2002) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.determineAutowireCandidate(DefaultListableBeanFactory.java:1943) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1637) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:888) ~[spring-beans-6.2.3.jar:6.2.3]
	... 21 common frames omitted

2025-03-03T10:56:51.840+07:00  INFO 12896 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 12896 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:56:51.842+07:00  INFO 12896 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:56:52.187+07:00  INFO 12896 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:56:52.189+07:00  INFO 12896 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 10 ms.
2025-03-03T10:56:52.310+07:00  INFO 12896 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:56:52.329+07:00  INFO 12896 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 JPA repository interfaces.
2025-03-03T10:56:52.724+07:00  INFO 12896 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:56:53.031+07:00  INFO 12896 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 1ca8da1c-988b-41b8-9dd9-d3bd56bbb6b0
2025-03-03T10:56:53.032+07:00  INFO 12896 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:56:53.114+07:00  INFO 12896 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:56:53.171+07:00  INFO 12896 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:56:53.219+07:00  INFO 12896 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:56:53.464+07:00  INFO 12896 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:56:53.593+07:00  INFO 12896 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:56:53.869+07:00  INFO 12896 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:56:53.873+07:00  INFO 12896 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:56:53.919+07:00  INFO 12896 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:56:53.963+07:00  INFO 12896 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:56:53.994+07:00  INFO 12896 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:56:53.998+07:00  INFO 12896 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:56:54.006+07:00  INFO 12896 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:56:54.010+07:00  INFO 12896 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:56:54.011+07:00  INFO 12896 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:56:54.014+07:00  INFO 12896 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:56:54.019+07:00  INFO 12896 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:56:54.023+07:00  INFO 12896 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:56:54.025+07:00  INFO 12896 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:56:54.029+07:00  WARN 12896 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setDataRetention' parameter 0: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 5: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
2025-03-03T10:56:54.029+07:00  INFO 12896 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:56:54.033+07:00  INFO 12896 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:56:54.040+07:00  INFO 12896 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:56:54.048+07:00  INFO 12896 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T10:56:54.066+07:00 ERROR 12896 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 5 of method dataRetention in com.krungsri.ipassportbatch.job.DataRetentionJob required a single bean, but 7 were found:
	- clearPassportIdStep: defined by method 'clearPassportIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- clearThaiIdStep: defined by method 'clearThaiIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- archiveDatabaseStep: defined by method 'archiveDatabaseStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearActivityStep: defined by method 'clearActivityStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearAuditTrailStep: defined by method 'clearAuditTrailStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearTransactionStep: defined by method 'clearTransactionStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- markExpireStep: defined by method 'markExpireStep' in class path resource [com/krungsri/ipassportbatch/job/MarkExpireTransactionJob.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2025-03-03T10:58:19.765+07:00  INFO 27580 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 27580 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:58:19.767+07:00  INFO 27580 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:58:20.129+07:00  INFO 27580 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:58:20.130+07:00  INFO 27580 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 9 ms.
2025-03-03T10:58:20.255+07:00  INFO 27580 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:58:20.268+07:00  INFO 27580 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-03-03T10:58:20.654+07:00  INFO 27580 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:58:20.935+07:00  INFO 27580 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 78adee0b-910b-41fc-b8e7-ec4ce97f1d1c
2025-03-03T10:58:20.936+07:00  INFO 27580 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:58:21.000+07:00  INFO 27580 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:58:21.059+07:00  INFO 27580 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:58:21.090+07:00  INFO 27580 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:58:21.327+07:00  INFO 27580 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:58:21.446+07:00  INFO 27580 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:58:21.721+07:00  INFO 27580 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:58:21.724+07:00  INFO 27580 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:58:21.768+07:00  INFO 27580 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:58:21.808+07:00  INFO 27580 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:58:21.844+07:00  INFO 27580 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:58:21.847+07:00  INFO 27580 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:58:21.855+07:00  INFO 27580 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:58:21.859+07:00  INFO 27580 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:58:21.860+07:00  INFO 27580 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:58:21.862+07:00  INFO 27580 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:58:21.866+07:00  INFO 27580 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:58:21.869+07:00  INFO 27580 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:58:21.871+07:00  INFO 27580 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:58:21.873+07:00  WARN 27580 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setDataRetention' parameter 0: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 5: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
2025-03-03T10:58:21.873+07:00  INFO 27580 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:58:21.877+07:00  INFO 27580 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:58:21.882+07:00  INFO 27580 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:58:21.890+07:00  INFO 27580 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T10:58:21.910+07:00 ERROR 27580 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 5 of method dataRetention in com.krungsri.ipassportbatch.job.DataRetentionJob required a single bean, but 7 were found:
	- clearPassportIdStep: defined by method 'clearPassportIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- clearThaiIdStep: defined by method 'clearThaiIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- archiveDatabaseStep: defined by method 'archiveDatabaseStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearActivityStep: defined by method 'clearActivityStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearAuditTrailStep: defined by method 'clearAuditTrailStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearTransactionStep: defined by method 'clearTransactionStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- markExpireStep: defined by method 'markExpireStep' in class path resource [com/krungsri/ipassportbatch/job/MarkExpireTransactionJob.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2025-03-03T10:59:28.030+07:00  INFO 1040 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 1040 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T10:59:28.031+07:00  INFO 1040 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T10:59:28.370+07:00  INFO 1040 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T10:59:28.372+07:00  INFO 1040 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 9 ms.
2025-03-03T10:59:28.491+07:00  INFO 1040 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T10:59:28.512+07:00  INFO 1040 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2025-03-03T10:59:28.896+07:00  INFO 1040 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T10:59:29.189+07:00  INFO 1040 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 45a420a1-888a-4ac2-9504-3eb140084cbe
2025-03-03T10:59:29.190+07:00  INFO 1040 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T10:59:29.247+07:00  INFO 1040 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T10:59:29.287+07:00  INFO 1040 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T10:59:29.330+07:00  INFO 1040 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T10:59:29.574+07:00  INFO 1040 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T10:59:29.689+07:00  INFO 1040 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T10:59:29.930+07:00  INFO 1040 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T10:59:29.933+07:00  INFO 1040 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:59:29.977+07:00  INFO 1040 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T10:59:30.016+07:00  INFO 1040 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T10:59:30.051+07:00  INFO 1040 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:59:30.055+07:00  INFO 1040 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:59:30.063+07:00  INFO 1040 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:59:30.068+07:00  INFO 1040 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:59:30.069+07:00  INFO 1040 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:59:30.072+07:00  INFO 1040 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:59:30.074+07:00  INFO 1040 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:59:30.076+07:00  INFO 1040 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:59:30.077+07:00  INFO 1040 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T10:59:30.080+07:00  WARN 1040 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setDataRetention' parameter 0: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 5: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
2025-03-03T10:59:30.081+07:00  INFO 1040 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T10:59:30.084+07:00  INFO 1040 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T10:59:30.090+07:00  INFO 1040 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T10:59:30.096+07:00  INFO 1040 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T10:59:30.119+07:00 ERROR 1040 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 5 of method dataRetention in com.krungsri.ipassportbatch.job.DataRetentionJob required a single bean, but 7 were found:
	- clearPassportIdStep: defined by method 'clearPassportIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- clearThaiIdStep: defined by method 'clearThaiIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- archiveDatabaseStep: defined by method 'archiveDatabaseStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearActivityStep: defined by method 'clearActivityStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearAuditTrailStep: defined by method 'clearAuditTrailStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearTransactionStep: defined by method 'clearTransactionStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- markExpireStep: defined by method 'markExpireStep' in class path resource [com/krungsri/ipassportbatch/job/MarkExpireTransactionJob.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2025-03-03T11:00:02.421+07:00  INFO 1880 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplicationTests     : Starting IpassportbatchApplicationTests using Java 21.0.5 with PID 1880 (started by User in D:\Krungsri\ipassport-batch)
2025-03-03T11:00:02.423+07:00  INFO 1880 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplicationTests     : No active profile set, falling back to 1 default profile: "default"
2025-03-03T11:00:02.701+07:00  INFO 1880 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T11:00:02.703+07:00  INFO 1880 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 3 ms.
2025-03-03T11:00:02.785+07:00  INFO 1880 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T11:00:02.803+07:00  INFO 1880 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2025-03-03T11:00:03.221+07:00  INFO 1880 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T11:00:03.520+07:00  INFO 1880 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: ecf1706b-8cbe-453e-8eb1-7a49eee3f282
2025-03-03T11:00:03.522+07:00  INFO 1880 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T11:00:03.593+07:00  INFO 1880 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T11:00:03.665+07:00  INFO 1880 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T11:00:03.719+07:00  INFO 1880 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T11:00:03.955+07:00  INFO 1880 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T11:00:04.078+07:00  INFO 1880 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T11:00:04.366+07:00  INFO 1880 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T11:00:04.374+07:00  INFO 1880 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T11:00:04.427+07:00  INFO 1880 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T11:00:04.469+07:00  INFO 1880 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T11:00:04.510+07:00  INFO 1880 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:04.512+07:00  INFO 1880 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:04.520+07:00  INFO 1880 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:04.524+07:00  INFO 1880 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:04.526+07:00  INFO 1880 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:04.528+07:00  INFO 1880 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:04.530+07:00  INFO 1880 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:04.532+07:00  INFO 1880 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:04.533+07:00  INFO 1880 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:04.537+07:00  WARN 1880 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setDataRetention' parameter 0: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 5: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
2025-03-03T11:00:04.537+07:00  INFO 1880 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T11:00:04.540+07:00  INFO 1880 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T11:00:04.545+07:00  INFO 1880 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T11:00:04.566+07:00  INFO 1880 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T11:00:04.595+07:00 ERROR 1880 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 5 of method dataRetention in com.krungsri.ipassportbatch.job.DataRetentionJob required a single bean, but 7 were found:
	- clearPassportIdStep: defined by method 'clearPassportIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- clearThaiIdStep: defined by method 'clearThaiIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- archiveDatabaseStep: defined by method 'archiveDatabaseStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearActivityStep: defined by method 'clearActivityStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearAuditTrailStep: defined by method 'clearAuditTrailStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearTransactionStep: defined by method 'clearTransactionStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- markExpireStep: defined by method 'markExpireStep' in class path resource [com/krungsri/ipassportbatch/job/MarkExpireTransactionJob.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2025-03-03T11:00:04.598+07:00  WARN 1880 --- [ipassportbatch] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.krungsri.ipassportbatch.IpassportbatchApplicationTests@6207145c]

java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@1eabfad5 testClass = com.krungsri.ipassportbatch.IpassportbatchApplicationTests, locations = [], classes = [com.krungsri.ipassportbatch.IpassportbatchApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@46d59067, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5dafbe45, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@49c90a9c, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@29f7cefd, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@64b0598, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@20c51c0a], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:155) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:111) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.3.jar:6.2.3]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) ~[surefire-junit-platform-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) ~[surefire-junit-platform-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) ~[surefire-junit-platform-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.2.jar:3.5.2]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.2.jar:3.5.2]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setDataRetention' parameter 0: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 5: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:896) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:849) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.3.jar:3.4.3]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.3.jar:6.2.3]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.3.jar:6.2.3]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.3.jar:3.4.3]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.3.jar:3.4.3]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.3.jar:3.4.3]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.3.jar:6.2.3]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.3.jar:6.2.3]
	... 75 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 5: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:888) ~[spring-beans-6.2.3.jar:6.2.3]
	... 102 common frames omitted
Caused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveNotUnique(DependencyDescriptor.java:218) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1641) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.3.jar:6.2.3]
	... 114 common frames omitted

2025-03-03T11:00:33.332+07:00  INFO 16184 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 16184 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T11:00:33.333+07:00  INFO 16184 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T11:00:33.675+07:00  INFO 16184 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T11:00:33.676+07:00  INFO 16184 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 7 ms.
2025-03-03T11:00:33.796+07:00  INFO 16184 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T11:00:33.812+07:00  INFO 16184 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.
2025-03-03T11:00:34.214+07:00  INFO 16184 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T11:00:34.489+07:00  INFO 16184 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 876110c5-d2a9-45c0-a49d-b9e08d143067
2025-03-03T11:00:34.490+07:00  INFO 16184 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T11:00:34.550+07:00  INFO 16184 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T11:00:34.615+07:00  INFO 16184 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T11:00:34.652+07:00  INFO 16184 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T11:00:34.903+07:00  INFO 16184 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T11:00:35.041+07:00  INFO 16184 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T11:00:35.317+07:00  INFO 16184 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T11:00:35.320+07:00  INFO 16184 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T11:00:35.367+07:00  INFO 16184 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T11:00:35.411+07:00  INFO 16184 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T11:00:35.448+07:00  INFO 16184 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:35.452+07:00  INFO 16184 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:35.458+07:00  INFO 16184 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:35.463+07:00  INFO 16184 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:35.464+07:00  INFO 16184 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:35.466+07:00  INFO 16184 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:35.469+07:00  INFO 16184 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:35.470+07:00  INFO 16184 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:35.472+07:00  INFO 16184 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:00:35.475+07:00  WARN 16184 --- [ipassportbatch] [main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchScheduler': Unsatisfied dependency expressed through method 'setDataRetention' parameter 0: Error creating bean with name 'dataRetention' defined in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]: Unsatisfied dependency expressed through method 'dataRetention' parameter 5: No qualifying bean of type 'org.springframework.batch.core.Step' available: expected single matching bean but found 7: clearPassportIdStep,clearThaiIdStep,archiveDatabaseStep,clearActivityStep,clearAuditTrailStep,clearTransactionStep,markExpireStep
2025-03-03T11:00:35.475+07:00  INFO 16184 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T11:00:35.479+07:00  INFO 16184 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T11:00:35.486+07:00  INFO 16184 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T11:00:35.495+07:00  INFO 16184 --- [ipassportbatch] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-03T11:00:35.516+07:00 ERROR 16184 --- [ipassportbatch] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 5 of method dataRetention in com.krungsri.ipassportbatch.job.DataRetentionJob required a single bean, but 7 were found:
	- clearPassportIdStep: defined by method 'clearPassportIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- clearThaiIdStep: defined by method 'clearThaiIdStep' in class path resource [com/krungsri/ipassportbatch/job/ClearCustomerDataJob.class]
	- archiveDatabaseStep: defined by method 'archiveDatabaseStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearActivityStep: defined by method 'clearActivityStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearAuditTrailStep: defined by method 'clearAuditTrailStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- clearTransactionStep: defined by method 'clearTransactionStep' in class path resource [com/krungsri/ipassportbatch/job/DataRetentionJob.class]
	- markExpireStep: defined by method 'markExpireStep' in class path resource [com/krungsri/ipassportbatch/job/MarkExpireTransactionJob.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2025-03-03T11:01:14.563+07:00  INFO 20216 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 20216 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T11:01:14.565+07:00  INFO 20216 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T11:01:14.922+07:00  INFO 20216 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T11:01:14.925+07:00  INFO 20216 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 8 ms.
2025-03-03T11:01:15.052+07:00  INFO 20216 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T11:01:15.065+07:00  INFO 20216 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-03-03T11:01:15.459+07:00  INFO 20216 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T11:01:15.772+07:00  INFO 20216 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 46774fec-88ae-43b2-ba56-665f3355acd5
2025-03-03T11:01:15.773+07:00  INFO 20216 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T11:01:15.866+07:00  INFO 20216 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T11:01:15.914+07:00  INFO 20216 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T11:01:15.941+07:00  INFO 20216 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T11:01:16.183+07:00  INFO 20216 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T11:01:16.302+07:00  INFO 20216 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T11:01:16.570+07:00  INFO 20216 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T11:01:16.574+07:00  INFO 20216 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T11:01:16.625+07:00  INFO 20216 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T11:01:16.669+07:00  INFO 20216 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T11:01:16.707+07:00  INFO 20216 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:01:16.710+07:00  INFO 20216 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:01:16.720+07:00  INFO 20216 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:01:16.725+07:00  INFO 20216 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:01:16.727+07:00  INFO 20216 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:01:16.730+07:00  INFO 20216 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:01:16.733+07:00  INFO 20216 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:01:16.736+07:00  INFO 20216 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:01:16.738+07:00  INFO 20216 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:01:16.741+07:00  INFO 20216 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:01:16.947+07:00  INFO 20216 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.903 seconds (process running for 3.297)
2025-03-03T11:02:00.137+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] launched with the following parameters: [{}]
2025-03-03T11:02:00.193+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [archiveDatabaseStep]
2025-03-03T11:02:00.216+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database...
2025-03-03T11:02:00.228+07:00 ERROR 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database unsuccess StatementCallback; uncategorized SQLException for SQL [EXEC sp_data_retention]; SQL state [S0000]; error code [3021]; Cannot perform a backup or restore operation within a transaction.
2025-03-03T11:02:00.239+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [archiveDatabaseStep] executed in 46ms
2025-03-03T11:02:00.268+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearActivityStep]
2025-03-03T11:02:00.272+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : Clearing IPRO_TX_ACTIVITY_LOG table...
2025-03-03T11:02:00.277+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : IPRO_TX_ACTIVITY_LOG cleared.
2025-03-03T11:02:00.280+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearActivityStep] executed in 11ms
2025-03-03T11:02:00.295+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearAuditTrailStep]
2025-03-03T11:02:00.301+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing IPRO_TX_AUDIT_TRAIL table...
2025-03-03T11:02:00.307+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : IPRO_TX_AUDIT_TRAIL cleared.
2025-03-03T11:02:00.310+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearAuditTrailStep] executed in 13ms
2025-03-03T11:02:00.325+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearTransactionStep]
2025-03-03T11:02:00.330+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : Clearing IPRO_TX_TRANSACTION table...
2025-03-03T11:02:00.335+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : IPRO_TX_TRANSACTION cleared.
2025-03-03T11:02:00.342+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearTransactionStep] executed in 16ms
2025-03-03T11:02:00.356+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 210ms
2025-03-03T11:02:00.377+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T11:02:00.387+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T11:02:00.391+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T11:02:00.396+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T11:02:00.399+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 12ms
2025-03-03T11:02:00.412+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T11:02:00.417+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T11:02:00.422+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T11:02:00.425+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 13ms
2025-03-03T11:02:00.434+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 54ms
2025-03-03T11:02:00.451+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] launched with the following parameters: [{}]
2025-03-03T11:02:00.464+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [markExpireStep]
2025-03-03T11:02:00.472+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : Updating Expire IPRO_TX_TRANSACTION table...
2025-03-03T11:02:00.477+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : IPRO_TX_TRANSACTION Update success.
2025-03-03T11:02:00.480+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [markExpireStep] executed in 16ms
2025-03-03T11:02:00.490+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 34ms
2025-03-03T11:03:00.161+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] launched with the following parameters: [{}]
2025-03-03T11:03:00.214+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [markExpireStep]
2025-03-03T11:03:00.228+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : Updating Expire IPRO_TX_TRANSACTION table...
2025-03-03T11:03:00.236+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : IPRO_TX_TRANSACTION Update success.
2025-03-03T11:03:00.242+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [markExpireStep] executed in 27ms
2025-03-03T11:03:00.273+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 103ms
2025-03-03T11:03:00.299+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T11:03:00.329+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T11:03:00.339+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T11:03:00.345+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T11:03:00.357+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 26ms
2025-03-03T11:03:00.400+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T11:03:00.410+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T11:03:00.416+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T11:03:00.425+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 23ms
2025-03-03T11:03:00.482+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 179ms
2025-03-03T11:03:00.512+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] launched with the following parameters: [{}]
2025-03-03T11:03:00.538+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [archiveDatabaseStep]
2025-03-03T11:03:00.549+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database...
2025-03-03T11:03:00.554+07:00 ERROR 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database unsuccess StatementCallback; uncategorized SQLException for SQL [EXEC sp_data_retention]; SQL state [S0000]; error code [3021]; Cannot perform a backup or restore operation within a transaction.
2025-03-03T11:03:00.559+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [archiveDatabaseStep] executed in 19ms
2025-03-03T11:03:00.583+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearActivityStep]
2025-03-03T11:03:00.597+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : Clearing IPRO_TX_ACTIVITY_LOG table...
2025-03-03T11:03:00.604+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : IPRO_TX_ACTIVITY_LOG cleared.
2025-03-03T11:03:00.626+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearActivityStep] executed in 42ms
2025-03-03T11:03:00.680+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearAuditTrailStep]
2025-03-03T11:03:00.697+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing IPRO_TX_AUDIT_TRAIL table...
2025-03-03T11:03:00.709+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : IPRO_TX_AUDIT_TRAIL cleared.
2025-03-03T11:03:00.716+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearAuditTrailStep] executed in 35ms
2025-03-03T11:03:00.776+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearTransactionStep]
2025-03-03T11:03:00.950+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : Clearing IPRO_TX_TRANSACTION table...
2025-03-03T11:03:01.072+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : IPRO_TX_TRANSACTION cleared.
2025-03-03T11:03:01.090+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearTransactionStep] executed in 314ms
2025-03-03T11:03:01.122+07:00  INFO 20216 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 600ms
2025-03-03T11:03:22.453+07:00  INFO 20216 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T11:03:22.454+07:00  INFO 20216 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T11:03:22.458+07:00  INFO 20216 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T11:11:47.306+07:00  INFO 1300 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 1300 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T11:11:47.307+07:00  INFO 1300 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T11:11:47.675+07:00  INFO 1300 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T11:11:47.677+07:00  INFO 1300 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 12 ms.
2025-03-03T11:11:47.806+07:00  INFO 1300 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T11:11:47.824+07:00  INFO 1300 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
2025-03-03T11:11:48.213+07:00  INFO 1300 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T11:11:48.507+07:00  INFO 1300 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 29a670c9-926d-4ad0-9d26-934613b3df62
2025-03-03T11:11:48.508+07:00  INFO 1300 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T11:11:48.575+07:00  INFO 1300 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T11:11:48.614+07:00  INFO 1300 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T11:11:48.653+07:00  INFO 1300 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T11:11:48.889+07:00  INFO 1300 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T11:11:49.000+07:00  INFO 1300 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T11:11:49.246+07:00  INFO 1300 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T11:11:49.251+07:00  INFO 1300 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T11:11:49.298+07:00  INFO 1300 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T11:11:49.338+07:00  INFO 1300 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T11:11:49.378+07:00  INFO 1300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:11:49.381+07:00  INFO 1300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:11:49.390+07:00  INFO 1300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:11:49.395+07:00  INFO 1300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:11:49.396+07:00  INFO 1300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:11:49.398+07:00  INFO 1300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:11:49.401+07:00  INFO 1300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:11:49.403+07:00  INFO 1300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:11:49.405+07:00  INFO 1300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:11:49.408+07:00  INFO 1300 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:11:49.594+07:00  INFO 1300 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.73 seconds (process running for 3.077)
2025-03-03T11:12:00.142+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T11:12:00.193+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T11:12:00.209+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T11:12:00.216+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T11:12:00.222+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 28ms
2025-03-03T11:12:00.246+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T11:12:00.252+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T11:12:00.257+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T11:12:00.260+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 13ms
2025-03-03T11:12:00.270+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 119ms
2025-03-03T11:12:00.288+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] launched with the following parameters: [{}]
2025-03-03T11:12:00.301+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [archiveDatabaseStep]
2025-03-03T11:12:00.306+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database...
2025-03-03T11:12:00.317+07:00 ERROR 1300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database unsuccess StatementCallback; uncategorized SQLException for SQL [EXEC sp_data_retention]; SQL state [S0000]; error code [3021]; Cannot perform a backup or restore operation within a transaction.
2025-03-03T11:12:00.320+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [archiveDatabaseStep] executed in 18ms
2025-03-03T11:12:00.344+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearActivityStep]
2025-03-03T11:12:00.350+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : Clearing IPRO_TX_ACTIVITY_LOG table...
2025-03-03T11:12:00.354+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : IPRO_TX_ACTIVITY_LOG cleared.
2025-03-03T11:12:00.360+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearActivityStep] executed in 15ms
2025-03-03T11:12:00.378+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearAuditTrailStep]
2025-03-03T11:12:00.383+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing IPRO_TX_AUDIT_TRAIL table...
2025-03-03T11:12:00.387+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : IPRO_TX_AUDIT_TRAIL cleared.
2025-03-03T11:12:00.390+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearAuditTrailStep] executed in 11ms
2025-03-03T11:12:00.414+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearTransactionStep]
2025-03-03T11:12:00.422+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : Clearing IPRO_TX_TRANSACTION table...
2025-03-03T11:12:00.426+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : IPRO_TX_TRANSACTION cleared.
2025-03-03T11:12:00.429+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearTransactionStep] executed in 14ms
2025-03-03T11:12:00.439+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 146ms
2025-03-03T11:12:00.466+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] launched with the following parameters: [{}]
2025-03-03T11:12:00.483+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [markExpireStep]
2025-03-03T11:12:00.491+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : Updating Expire IPRO_TX_TRANSACTION table...
2025-03-03T11:12:00.496+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : IPRO_TX_TRANSACTION Update success.
2025-03-03T11:12:00.499+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [markExpireStep] executed in 16ms
2025-03-03T11:12:00.508+07:00  INFO 1300 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 37ms
2025-03-03T11:12:19.104+07:00  INFO 1300 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T11:12:19.105+07:00  INFO 1300 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T11:12:19.108+07:00  INFO 1300 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T11:13:46.161+07:00  INFO 20616 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 20616 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T11:13:46.163+07:00  INFO 20616 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T11:13:46.527+07:00  INFO 20616 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T11:13:46.528+07:00  INFO 20616 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 6 ms.
2025-03-03T11:13:46.654+07:00  INFO 20616 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T11:13:46.670+07:00  INFO 20616 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
2025-03-03T11:13:47.073+07:00  INFO 20616 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T11:13:47.367+07:00  INFO 20616 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: d31d07f3-606d-4f73-a89e-c743f7a7ea05
2025-03-03T11:13:47.369+07:00  INFO 20616 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T11:13:47.432+07:00  INFO 20616 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T11:13:47.472+07:00  INFO 20616 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T11:13:47.515+07:00  INFO 20616 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T11:13:47.751+07:00  INFO 20616 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T11:13:47.876+07:00  INFO 20616 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T11:13:48.166+07:00  INFO 20616 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T11:13:48.170+07:00  INFO 20616 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T11:13:48.227+07:00  INFO 20616 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T11:13:48.269+07:00  INFO 20616 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T11:13:48.306+07:00  INFO 20616 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:13:48.311+07:00  INFO 20616 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:13:48.318+07:00  INFO 20616 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:13:48.322+07:00  INFO 20616 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:13:48.324+07:00  INFO 20616 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:13:48.326+07:00  INFO 20616 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:13:48.329+07:00  INFO 20616 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:13:48.332+07:00  INFO 20616 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:13:48.335+07:00  INFO 20616 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:13:48.336+07:00  INFO 20616 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:13:48.534+07:00  INFO 20616 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.824 seconds (process running for 3.161)
2025-03-03T11:14:00.150+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T11:14:00.213+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T11:14:00.233+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T11:14:00.239+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T11:14:00.244+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 30ms
2025-03-03T11:14:00.265+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T11:14:00.270+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T11:14:00.276+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T11:14:00.280+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 14ms
2025-03-03T11:14:00.291+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 131ms
2025-03-03T11:14:00.308+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] launched with the following parameters: [{}]
2025-03-03T11:14:00.321+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [markExpireStep]
2025-03-03T11:14:00.327+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : Updating Expire IPRO_TX_TRANSACTION table...
2025-03-03T11:14:00.334+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : IPRO_TX_TRANSACTION Update success.
2025-03-03T11:14:00.336+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [markExpireStep] executed in 14ms
2025-03-03T11:14:00.345+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 33ms
2025-03-03T11:14:00.362+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] launched with the following parameters: [{}]
2025-03-03T11:14:00.375+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [archiveDatabaseStep]
2025-03-03T11:14:00.381+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database...
2025-03-03T11:14:00.486+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database success.
2025-03-03T11:14:00.492+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [archiveDatabaseStep] executed in 116ms
2025-03-03T11:14:00.512+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearActivityStep]
2025-03-03T11:14:00.518+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : Clearing IPRO_TX_ACTIVITY_LOG table...
2025-03-03T11:14:00.524+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : IPRO_TX_ACTIVITY_LOG cleared.
2025-03-03T11:14:00.527+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearActivityStep] executed in 15ms
2025-03-03T11:14:00.547+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearAuditTrailStep]
2025-03-03T11:14:00.553+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing IPRO_TX_AUDIT_TRAIL table...
2025-03-03T11:14:00.560+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : IPRO_TX_AUDIT_TRAIL cleared.
2025-03-03T11:14:00.564+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearAuditTrailStep] executed in 17ms
2025-03-03T11:14:00.585+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearTransactionStep]
2025-03-03T11:14:00.594+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : Clearing IPRO_TX_TRANSACTION table...
2025-03-03T11:14:00.599+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : IPRO_TX_TRANSACTION cleared.
2025-03-03T11:14:00.602+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearTransactionStep] executed in 16ms
2025-03-03T11:14:00.616+07:00  INFO 20616 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 248ms
2025-03-03T11:14:20.844+07:00  INFO 20616 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T11:14:20.845+07:00  INFO 20616 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T11:14:20.848+07:00  INFO 20616 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-03T11:15:09.041+07:00  INFO 10112 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Starting IpassportbatchApplication using Java 23.0.1 with PID 10112 (D:\Krungsri\ipassport-batch\target\classes started by User in D:\Krungsri\ipassport-batch)
2025-03-03T11:15:09.044+07:00  INFO 10112 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-03T11:15:09.374+07:00  INFO 10112 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobLauncher already defined in the application context, skipping the registration of a jobLauncher
2025-03-03T11:15:09.375+07:00  INFO 10112 --- [ipassportbatch] [main] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 8 ms.
2025-03-03T11:15:09.490+07:00  INFO 10112 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-03T11:15:09.510+07:00  INFO 10112 --- [ipassportbatch] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
2025-03-03T11:15:09.907+07:00  INFO 10112 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-03T11:15:10.206+07:00  INFO 10112 --- [ipassportbatch] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 57e5ec69-e073-4423-a821-c8cabc854e52
2025-03-03T11:15:10.208+07:00  INFO 10112 --- [ipassportbatch] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-03T11:15:10.277+07:00  INFO 10112 --- [ipassportbatch] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-03T11:15:10.320+07:00  INFO 10112 --- [ipassportbatch] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-03T11:15:10.360+07:00  INFO 10112 --- [ipassportbatch] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-03T11:15:10.600+07:00  INFO 10112 --- [ipassportbatch] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-03T11:15:10.713+07:00  INFO 10112 --- [ipassportbatch] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-03T11:15:10.976+07:00  INFO 10112 --- [ipassportbatch] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-03T11:15:10.979+07:00  INFO 10112 --- [ipassportbatch] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T11:15:11.039+07:00  INFO 10112 --- [ipassportbatch] [main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: SQLSERVER
2025-03-03T11:15:11.082+07:00  INFO 10112 --- [ipassportbatch] [main] o.s.b.c.l.s.TaskExecutorJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2025-03-03T11:15:11.120+07:00  INFO 10112 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:15:11.123+07:00  INFO 10112 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:15:11.131+07:00  INFO 10112 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:15:11.134+07:00  INFO 10112 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:15:11.135+07:00  INFO 10112 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:15:11.138+07:00  INFO 10112 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:15:11.140+07:00  INFO 10112 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:15:11.142+07:00  INFO 10112 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:15:11.144+07:00  INFO 10112 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:15:11.146+07:00  INFO 10112 --- [ipassportbatch] [main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-03-03T11:15:11.325+07:00  INFO 10112 --- [ipassportbatch] [main] c.k.i.IpassportbatchApplication          : Started IpassportbatchApplication in 2.726 seconds (process running for 3.05)
2025-03-03T11:16:00.141+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] launched with the following parameters: [{}]
2025-03-03T11:16:00.198+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [archiveDatabaseStep]
2025-03-03T11:16:00.217+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database...
2025-03-03T11:16:00.315+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Archive IPASSPORT Database success.
2025-03-03T11:16:00.320+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [archiveDatabaseStep] executed in 121ms
2025-03-03T11:16:00.367+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearActivityStep]
2025-03-03T11:16:00.385+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : Clearing IPRO_TX_ACTIVITY_LOG table...
2025-03-03T11:16:00.392+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearActivityTasklet       : IPRO_TX_ACTIVITY_LOG cleared.
2025-03-03T11:16:00.407+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearActivityStep] executed in 40ms
2025-03-03T11:16:00.464+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearAuditTrailStep]
2025-03-03T11:16:00.481+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : Clearing IPRO_TX_AUDIT_TRAIL table...
2025-03-03T11:16:00.488+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ArchiveDatabaseTasklet     : IPRO_TX_AUDIT_TRAIL cleared.
2025-03-03T11:16:00.501+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearAuditTrailStep] executed in 35ms
2025-03-03T11:16:00.541+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearTransactionStep]
2025-03-03T11:16:00.546+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : Clearing IPRO_TX_TRANSACTION table...
2025-03-03T11:16:00.553+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearTransactionTasklet    : IPRO_TX_TRANSACTION cleared.
2025-03-03T11:16:00.557+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearTransactionStep] executed in 16ms
2025-03-03T11:16:00.573+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=dataRetention]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 419ms
2025-03-03T11:16:00.637+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] launched with the following parameters: [{}]
2025-03-03T11:16:00.689+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [markExpireStep]
2025-03-03T11:16:00.706+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : Updating Expire IPRO_TX_TRANSACTION table...
2025-03-03T11:16:00.715+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] c.k.i.t.MarkExpireTransactionTasklet     : IPRO_TX_TRANSACTION Update success.
2025-03-03T11:16:00.729+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [markExpireStep] executed in 40ms
2025-03-03T11:16:00.760+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=markExpireTransaction]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 111ms
2025-03-03T11:16:00.795+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] launched with the following parameters: [{}]
2025-03-03T11:16:00.826+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearPassportIdStep]
2025-03-03T11:16:00.832+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : Clearing IPRO_TX_PASSPORTID table...
2025-03-03T11:16:00.838+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearPassportIdTasklet     : IPRO_TX_PASSPORTID cleared.
2025-03-03T11:16:00.854+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearPassportIdStep] executed in 28ms
2025-03-03T11:16:00.913+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [clearThaiIdStep]
2025-03-03T11:16:00.930+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : Clearing IPRO_TX_THAIID table...
2025-03-03T11:16:00.938+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] c.k.i.tasklet.ClearThaiIdTasklet         : IPRO_TX_THAIID cleared.
2025-03-03T11:16:00.952+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.batch.core.step.AbstractStep         : Step: [clearThaiIdStep] executed in 37ms
2025-03-03T11:16:00.989+07:00  INFO 10112 --- [ipassportbatch] [scheduling-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=clearCustomerData]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 180ms
2025-03-03T11:16:08.626+07:00  INFO 10112 --- [ipassportbatch] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-03T11:16:08.628+07:00  INFO 10112 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-03T11:16:08.631+07:00  INFO 10112 --- [ipassportbatch] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
